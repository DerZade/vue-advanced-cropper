(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{105:function(t,i,e){"use strict";e.d(i,"a",function(){return n});e(141);var n=function(){return function(t){this.type="move",this.directions=t}}();!function(){function t(t,i,e,n,o){this.type="drag",this.nativeEvent=t,this.position=e,this.previousPosition=n,this.element=i,this.anchor=o}t.prototype.shift=function(){var t=this.element,i=this.anchor,e=this.position,n=t.getBoundingClientRect(),o=n.left,r=n.top;return{left:e.left-o-i.left,top:e.top-r-i.top}}}()},106:function(t,i,e){"use strict";e.d(i,"a",function(){return d}),e.d(i,"b",function(){return f}),e.d(i,"c",function(){return m}),e.d(i,"d",function(){return c}),e.d(i,"e",function(){return g}),e.d(i,"f",function(){return b}),e.d(i,"g",function(){return x}),e.d(i,"h",function(){return v}),e.d(i,"i",function(){return w}),e.d(i,"j",function(){return a}),e.d(i,"k",function(){return s}),e.d(i,"l",function(){return u}),e.d(i,"m",function(){return r}),e.d(i,"n",function(){return p}),e.d(i,"o",function(){return l}),e.d(i,"p",function(){return h});e(34);var n=e(47),o=e(48);function r(t,i,e){return!(e=e||["width","height","left","top"]).some(function(e){return t[e]!==i[e]})}function h(t){return{left:t.left,top:t.top,right:t.left+t.width,bottom:t.top+t.height}}function c(t,i){return{left:t.left-i.left,top:t.top-i.top}}function a(t){return{left:t.left+t.width/2,top:t.top+t.height/2}}function s(t,i){var e={left:0,top:0,right:0,bottom:0};return o.a.forEach(function(n){var o=i[n],r=h(t)[n];e[n]=void 0!==o&&void 0!==r?"left"===n||"top"===n?Math.max(0,o-r):Math.max(0,r-o):0}),e}function d(t,i){return{left:t.left-i.left,top:t.top-i.top,width:t.width+i.left+i.right,height:t.height+i.top+i.bottom}}function u(t){return{left:-t.left,top:-t.top}}function f(t,i){return Object(n.a)(Object(n.a)({},t),{left:t.left+i.left,top:t.top+i.top})}function m(t,i,e,n){if(e){var o=a(t);return{width:t.width*i,height:t.height*i,left:t.left+t.width*(1-i)/2+(e.left-o.left)*(n||1-i),top:t.top+t.height*(1-i)/2+(e.top-o.top)*(n||1-i)}}return{width:t.width*i,height:t.height*i,left:t.left+t.width*(1-i)/2,top:t.top+t.height*(1-i)/2}}function l(t){return t.width/t.height}function p(t,i){return Math.min(void 0!==i.right&&void 0!==i.left?(i.right-i.left)/t.width:1/0,void 0!==i.bottom&&void 0!==i.top?(i.bottom-i.top)/t.height:1/0)}function g(t,i){var e={left:0,top:0},n=s(t,i);return n.left&&n.left>0?e.left=n.left:n.right&&n.right>0&&(e.left=-n.right),n.top&&n.top>0?e.top=n.top:n.bottom&&n.bottom>0&&(e.top=-n.bottom),e}function b(t){var i=t.directions,e=t.coordinates,r=t.positionRestrictions,h=void 0===r?{}:r,c=t.sizeRestrictions,a=t.preserveRatio,u=t.compensate,f=Object(n.a)({},i),m=d(e,f).width,l=d(e,f).height;m<0&&(f.left<0&&f.right<0?(f.left=-(e.width-c.minWidth)/(f.left/f.right),f.right=-(e.width-c.minWidth)/(f.right/f.left)):f.left<0?f.left=-(e.width-c.minWidth):f.right<0&&(f.right=-(e.width-c.minWidth))),l<0&&(f.top<0&&f.bottom<0?(f.top=-(e.height-c.minHeight)/(f.top/f.bottom),f.bottom=-(e.height-c.minHeight)/(f.bottom/f.top)):f.top<0?f.top=-(e.height-c.minHeight):f.bottom<0&&(f.bottom=-(e.height-c.minHeight)));var p=s(d(e,f),h);u&&(p.left&&p.left>0&&0===p.right?(f.right+=p.left,f.left-=p.left):p.right&&p.right>0&&0===p.left&&(f.left+=p.right,f.right-=p.right),p.top&&p.top>0&&0===p.bottom?(f.bottom+=p.top,f.top-=p.top):p.bottom&&p.bottom>0&&0===p.top&&(f.top+=p.bottom,f.bottom-=p.bottom),p=s(d(e,f),h));var g={width:1/0,height:1/0,left:1/0,right:1/0,top:1/0,bottom:1/0};if(o.a.forEach(function(t){var i=p[t];i&&f[t]&&(g[t]=Math.max(0,1-i/f[t]))}),a){var b=Math.min.apply(Math,o.a.map(function(t){return g[t]}));b!==1/0&&o.a.forEach(function(t){f[t]*=b})}else o.a.forEach(function(t){g[t]!==1/0&&(f[t]*=g[t])});if(m=d(e,f).width,l=d(e,f).height,f.right+f.left&&(m>c.maxWidth?g.width=(c.maxWidth-e.width)/(f.right+f.left):m<c.minWidth&&(g.width=(c.minWidth-e.width)/(f.right+f.left))),f.bottom+f.top&&(l>c.maxHeight?g.height=(c.maxHeight-e.height)/(f.bottom+f.top):l<c.minHeight&&(g.height=(c.minHeight-e.height)/(f.bottom+f.top))),a){var w=Math.min(g.width,g.height);w!==1/0&&o.a.forEach(function(t){f[t]*=w})}else g.width!==1/0&&o.b.forEach(function(t){f[t]*=g.width}),g.height!==1/0&&o.d.forEach(function(t){f[t]*=g.height});return f}function w(t,i){var e;return i.minimum&&t<i.minimum?e=i.minimum:i.maximum&&t>i.maximum&&(e=i.maximum),e}function v(t,i){var e=l(t);return e>l(i)?{width:i.width,height:i.width*e}:{width:i.height*e,height:i.height}}function x(t,i){return f(t,g(t,i))}},107:function(t,i,e){"use strict";e.d(i,"a",function(){return o});e(34),e(79),e(140),e(56),e(143),e(47);var n=e(48);function o(t,i){var e={};return n.a.forEach(function(n){var o=t[n],r=i[n];void 0!==o&&void 0!==r?e[n]="left"===n||"top"===n?Math.max(o,r):Math.min(o,r):r?e[n]=r:o&&(e[n]=o)}),e}},148:function(t,i,e){"use strict";e.d(i,"a",function(){return d}),e.d(i,"b",function(){return g}),e.d(i,"c",function(){return b}),e.d(i,"d",function(){return w}),e.d(i,"e",function(){return m}),e.d(i,"f",function(){return f}),e.d(i,"g",function(){return l}),e.d(i,"h",function(){return a}),e.d(i,"i",function(){return p}),e.d(i,"j",function(){return x}),e.d(i,"k",function(){return v}),e.d(i,"l",function(){return s}),e.d(i,"m",function(){return u});e(34);var n=e(47),o=e(48),r=e(105),h=e(106),c=e(107);function a(t){var i=t.event,e=t.coordinates,n=t.positionRestrictions,o=void 0===n?{}:n,r=Object(h.b)(e,i.directions);return Object(h.b)(r,Object(h.e)(r,o))}function s(t){var i=t.event,e=t.coordinates,c=t.aspectRatio,s=t.positionRestrictions,d=t.sizeRestrictions,u=Object(n.a)(Object(n.a)({},e),{right:e.left+e.width,bottom:e.top+e.height}),f=i.params||{},m=Object(n.a)({},i.directions),l=f.allowedDirections||{left:!0,right:!0,bottom:!0,top:!0};d.widthFrozen&&(m.left=0,m.right=0),d.heightFrozen&&(m.top=0,m.bottom=0),o.a.forEach(function(t){l[t]||(m[t]=0)}),m=Object(h.f)({coordinates:u,directions:m,sizeRestrictions:d,positionRestrictions:s});var p=Object(h.a)(u,m).width,g=Object(h.a)(u,m).height,b=f.preserveRatio?Object(h.o)(u):Object(h.i)(p/g,c);if(b){var w=f.respectDirection;if(w||(w=u.width>=u.height||1===b?"width":"height"),"width"===w){var v=p/b-u.height;l.top&&l.bottom?(m.bottom=v/2,m.top=v/2):l.bottom?m.bottom=v:l.top?m.top=v:l.right?m.right=0:l.left&&(m.left=0)}else if("height"===w){var x=u.width-g*b;l.left&&l.right?(m.left=-x/2,m.right=-x/2):l.left?m.left=-x:l.right?m.right=-x:l.top?m.top=0:l.bottom&&(m.bottom=0)}m=Object(h.f)({directions:m,coordinates:u,sizeRestrictions:d,positionRestrictions:s,preserveRatio:!0,compensate:f.compensate})}return p=Object(h.a)(u,m).width,g=Object(h.a)(u,m).height,(b=f.preserveRatio?Object(h.o)(u):Object(h.i)(p/g,c))&&Math.abs(b-p/g)>.001&&(console.error("Something went wrong and ratio was broken: "+p/g+" instead of "+b),o.a.forEach(function(t){l[t]||(m[t]=0)})),a({event:new r.a({left:-m.left,top:-m.top}),coordinates:{width:e.width+m.right+m.left,height:e.height+m.top+m.bottom,left:e.left,top:e.top},positionRestrictions:s})}function d(t){var i=t.width,e=t.height,n=t.aspectRatio,o=t.sizeRestrictions,r={minimum:n.minimum||0,maximum:n.maximum||1/0},h={width:Math.max(o.minWidth,Math.min(o.maxWidth,i)),height:Math.max(o.minHeight,Math.min(o.maxHeight,e))};function c(t,i){return Math.pow(t.width-i.width,2)+Math.pow(t.height-i.height,2)}function a(t,i){return void 0===i&&(i=!1),Boolean(t.width>=t.height*r.minimum&&t.width<=t.height*r.maximum&&t.height<=o.maxHeight&&t.width<=o.maxWidth&&t.width&&t.height&&(i||t.height>=o.minHeight&&t.width>=o.minWidth))}function s(t,n){return void 0===n&&(n=!1),t.reduce(function(t,o){return a(o,n)&&(!t||c(o,{width:i,height:e})<c(t,{width:i,height:e}))?o:t},null)}var d=[];[n.minimum,n.maximum].forEach(function(t){t&&d.push({width:h.width,height:h.width/t},{width:h.height*t,height:h.height})}),a(h)&&d.push(h);var u=s(d);return u||s(d,!0)}function u(t){var i=t.current,e=t.previous,o=t.areaRestrictions,r=t.coordinates,c=Object(n.a)({},i);if(e&&e.width&&e.height&&!Object(h.m)(i,e)){c=e.width>r.width?Object(h.c)(c,Math.min(e.height/c.height,Object(h.n)(c,o))):Object(h.c)(c,Math.min(e.width/c.width,Object(h.n)(c,o))),c=Object(h.b)(c,Object(h.d)(Object(h.j)(e),Object(h.j)(c))),c=Object(h.b)(c,Object(h.e)(c,o));var a=Object(h.k)(r,Object(h.p)(c));a.left+a.right+a.top+a.bottom&&(c=a.left+a.right>a.top+a.bottom?Object(h.c)(c,Math.min((c.width+a.left+a.right)/c.width,Object(h.n)(c,o))):Object(h.c)(c,Math.min((c.width+a.top+a.bottom)/c.height,Object(h.n)(c,o))))}return c}function f(t){var i=t.visibleArea,e=t.coordinates,o=t.aspectRatio,r=t.sizeRestrictions,c=t.positionRestrictions,a=Object(n.a)({},e);return a&&a.width&&a.height&&(a=Object(n.a)(Object(n.a)({},a),d({width:a.width,height:a.height,aspectRatio:o,sizeRestrictions:{maxWidth:i.width,maxHeight:i.height,minHeight:Math.min(i.height,r.minHeight),minWidth:Math.min(i.width,r.minWidth)}})),a=Object(h.b)(a,Object(h.d)(Object(h.j)(e),Object(h.j)(a))),a=Object(h.b)(a,Object(h.e)(a,c))),a}function m(t){var i=t.imageSize,e=t.boundaries,n=Object(h.o)(i),o=Object(h.o)(e),r={height:n>o?i.height:i.width/o,width:n>o?i.height*o:i.width};return{left:i.width/2-r.width/2,top:i.height/2-r.height/2,width:r.width,height:r.height}}function l(t,i){return Object(c.a)(t,Object(h.p)(i))}function p(t){var i=t.imageSize,e={};return"none"!==t.imageRestriction&&(e={left:0,top:0,right:i.width,bottom:i.height}),e}function g(t){var i=t.imageSize,e={};return"area"===t.imageRestriction&&(e={left:0,top:0,right:i.width,bottom:i.height}),e}function b(t){var i=t.visibleArea,e=t.coordinates;return{left:i.left+i.width/2-e.width/2,top:i.top+i.height/2-e.height/2}}function w(t){var i=t.visibleArea,e=t.aspectRatio,o=t.sizeRestrictions;return d({width:.8*i.width,height:.8*i.height,aspectRatio:e,sizeRestrictions:Object(n.a)(Object(n.a)({},o),{maxWidth:Math.min(i.width,o.maxWidth),maxHeight:Math.min(i.height,o.maxHeight)})})}function v(t){var i=t.visibleArea,e=t.boundaries,o=Object(n.a)({},i),r=Object(h.o)(e);return o.width/o.height!==r&&(o.height=o.width/r),o}function x(t){var i=t.sizeRestrictions,e=t.imageSize,o=t.visibleArea,r=t.positionRestrictions,c=t.imageRestriction,a=void 0===c?"none":c,s=Object(n.a)(Object(n.a)({},i),{minWidth:void 0!==i.minWidth?i.minWidth:0,minHeight:void 0!==i.minHeight?i.minHeight:0,maxWidth:void 0!==i.maxWidth?i.maxWidth:1/0,maxHeight:void 0!==i.maxHeight?i.maxHeight:1/0});if(void 0!==r.left&&void 0!==r.right&&(s.maxWidth=Math.min(s.maxWidth,r.right-r.left)),void 0!==r.bottom&&void 0!==r.top&&(s.maxHeight=Math.min(s.maxHeight,r.bottom-r.top)),"none"!==a){var d=Object(h.h)(o,e),u="area"===a?d.width:e.width,f="area"===a?d.height:e.height;(!s.maxWidth||s.maxWidth>u)&&(s.maxWidth=u),(!s.maxHeight||s.maxHeight>f)&&(s.maxHeight=f)}return s.minWidth>s.maxWidth&&(console.warn("Warning: maximum width ("+s.maxWidth+"px) fewer that the minimum width ("+s.minWidth+"px). It is set equal to the minimum width and width resizing was blocked"),s.maxWidth=s.minWidth,s.widthFrozen=!0),s.minHeight>s.maxHeight&&(console.warn("Warning: maximum height ("+s.maxHeight+"px) fewer that the minimum height ("+s.minHeight+"px). It is set equal to the minimum height and height resizing was blocked"),s.maxHeight=s.minHeight,s.heightFrozen=!0),s.minWidth=Math.min(s.minWidth,o.width),s.minHeight=Math.min(s.minHeight,o.height),s}},149:function(t,i,e){},326:function(t,i,e){"use strict";var n=e(149);e.n(n).a},375:function(t,i,e){"use strict";e.r(i);var n=e(94),o=e(11),r=e(148),h={name:"AlgorithmTester",components:{BoundingBox:o.a},data:function(){return{coordinates:{cropper:{width:100,height:100,left:150,top:150},stencil:{width:100,height:100,left:150,top:150},current:{width:100,height:100,left:150,top:150},area:{width:400,height:400,left:0,top:0}},stencilProps:'{\n\t"aspectRatio": 10/16\n}'}},computed:{cropperStyle:function(){return{width:"".concat(this.coordinates.cropper.width,"px"),height:"".concat(this.coordinates.cropper.height,"px"),top:"".concat(this.coordinates.cropper.top,"px"),left:"".concat(this.coordinates.cropper.left,"px")}},currentStyle:function(){return{width:"".concat(this.coordinates.current.width,"px"),height:"".concat(this.coordinates.current.height,"px"),top:"".concat(this.coordinates.current.top,"px"),left:"".concat(this.coordinates.current.left,"px")}},stencilStyle:function(){return{width:"".concat(this.coordinates.stencil.width,"px"),height:"".concat(this.coordinates.stencil.height,"px"),top:"".concat(this.coordinates.stencil.top,"px"),left:"".concat(this.coordinates.stencil.left,"px")}},areaStyle:function(){return{width:"".concat(this.coordinates.area.width,"px"),height:"".concat(this.coordinates.area.height,"px"),top:"".concat(this.coordinates.area.top,"px"),left:"".concat(this.coordinates.area.left,"px")}}},methods:{onResizeStencil:function(t){var i=t.directions;this.coordinates.stencil.left-=i.left,this.coordinates.stencil.top-=i.top,this.coordinates.stencil.width+=i.right+i.left,this.coordinates.stencil.height+=i.top+i.bottom},onResizeArea:function(t){var i=t.directions;this.coordinates.area.left-=i.left,this.coordinates.area.top-=i.top,this.coordinates.area.width+=i.right+i.left,this.coordinates.area.height+=i.top+i.bottom},onResizeCurrent:function(t){var i=t.directions;this.coordinates.current.left-=i.left,this.coordinates.current.top-=i.top,this.coordinates.current.width+=i.right+i.left,this.coordinates.current.height+=i.top+i.bottom},onResize:function(t){var i=Object(r.l)({coordinates:Object(n.a)({},this.coordinates.current),restrictions:{minWidth:100,minHeight:100,maxWidth:400,maxHeight:400},aspectRatio:{minimum:.5},allowedArea:{left:this.coordinates.area.left,top:this.coordinates.area.top,bottom:this.coordinates.area.top+this.coordinates.area.height,right:this.coordinates.area.left+this.coordinates.area.width},coefficient:1,resizeEvent:new o.f({},{left:-(this.coordinates.stencil.left-this.coordinates.current.left),top:-(this.coordinates.stencil.top-this.coordinates.current.top),bottom:this.coordinates.stencil.top+this.coordinates.stencil.height-(this.coordinates.current.top+this.coordinates.current.height),right:this.coordinates.stencil.left+this.coordinates.stencil.width-(this.coordinates.current.left+this.coordinates.current.width)},{compensate:!0}),complete:t});this.coordinates.current=Object(n.a)({},i)}}},c=(e(326),e(1)),a=Object(c.a)(h,function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"bounding-box-example"},[n("div",{staticClass:"playground"},[n("div",{staticClass:"area-wrapper"},[n("div",{staticClass:"area"},[n("BoundingBox",{staticClass:"area-box",style:t.areaStyle,attrs:{"handler-component":"simple-handler","line-component":"simple-line","lines-classnames":{default:"line line--area"},"handlers-classnames":{default:"handler handler--area"}},on:{resize:t.onResizeArea}}),t._v(" "),n("BoundingBox",{staticClass:"stencil-box",style:t.stencilStyle,attrs:{"handler-component":"simple-handler","line-component":"simple-line","lines-classnames":{default:"line line--stencil"},"handlers-classnames":{default:"handler handler--stencil"}},on:{resize:t.onResizeStencil}}),t._v(" "),n("div",{staticClass:"current-box",style:t.currentStyle})],1),t._v(" "),n("div",{staticClass:"buttons"},[n("div",{staticClass:"button",on:{click:function(i){return t.onResize(!1)}}},[n("img",{attrs:{src:e(72)}})]),t._v(" "),n("div",{staticClass:"button button--complete",on:{click:function(i){return t.onResize(!0)}}},[n("img",{attrs:{src:e(72)}})])])])]),t._v(" "),n("div",{staticClass:"options"},[n("div",{staticClass:"option"},[t._v("\n\t\t\t\tStencil props:\n\t\t\t\t"),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.stencilProps,expression:"stencilProps"}],staticClass:"option__textarea",domProps:{value:t.stencilProps},on:{input:function(i){i.target.composing||(t.stencilProps=i.target.value)}}})])])])},[],!1,null,null,null);i.default=a.exports},46:function(t,i,e){var n=e(32),o=e(13),r=e(53);t.exports=function(t,i){var e=(o.Object||{})[t]||Object[t],h={};h[t]=i(e),n(n.S+n.F*r(function(){e(1)}),"Object",h)}},47:function(t,i,e){"use strict";e.d(i,"a",function(){return n});var n=function(){return(n=Object.assign||function(t){for(var i,e=1,n=arguments.length;e<n;e++)for(var o in i=arguments[e])Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o]);return t}).apply(this,arguments)}},48:function(t,i,e){"use strict";e.d(i,"a",function(){return n}),e.d(i,"b",function(){return o}),e.d(i,"c",function(){return h}),e.d(i,"d",function(){return r});var n=["left","right","top","bottom"],o=["left","right"],r=["top","bottom"],h=["left","top"]},72:function(t,i,e){t.exports=e.p+"assets/img/resize.ea093182.svg"},73:function(t,i,e){t.exports=e(88)},74:function(t,i,e){t.exports=e(89)},85:function(t,i,e){t.exports=e(86)},86:function(t,i,e){e(87);var n=e(13).Object;t.exports=function(t,i){return n.getOwnPropertyDescriptor(t,i)}},87:function(t,i,e){var n=e(40),o=e(104).f;e(46)("getOwnPropertyDescriptor",function(){return function(t,i){return o(n(t),i)}})},88:function(t,i,e){e(103),t.exports=e(13).Object.getOwnPropertySymbols},89:function(t,i,e){e(90),t.exports=e(13).Object.keys},90:function(t,i,e){var n=e(71),o=e(70);e(46)("keys",function(){return function(t){return o(n(t))}})},91:function(t,i,e){t.exports=e(92)},92:function(t,i,e){e(93);var n=e(13).Object;t.exports=function(t,i,e){return n.defineProperty(t,i,e)}},93:function(t,i,e){var n=e(32);n(n.S+n.F*!e(39),"Object",{defineProperty:e(33).f})},94:function(t,i,e){"use strict";var n=e(85),o=e.n(n),r=e(73),h=e.n(r),c=e(74),a=e.n(c),s=e(91),d=e.n(s);function u(t,i,e){return i in t?d()(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}function f(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{},n=a()(e);"function"==typeof h.a&&(n=n.concat(h()(e).filter(function(t){return o()(e,t).enumerable}))),n.forEach(function(i){u(t,i,e[i])})}return t}e.d(i,"a",function(){return f})}}]);