(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{277:function(e,t,i){e.exports=i.p+"assets/img/stretching.c9ed233c.svg"},404:function(e,t,i){"use strict";i.r(t);var a=i(1),r=Object(a.a)({},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"under-the-hood"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#under-the-hood","aria-hidden":"true"}},[e._v("#")]),e._v(" Under The Hood")]),e._v(" "),a("h2",{attrs:{id:"refresh-image"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#refresh-image","aria-hidden":"true"}},[e._v("#")]),e._v(" Refresh image")]),e._v(" "),a("div",{staticClass:"warning custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Notice!")]),e._v(" "),a("p",[e._v("The internal process of "),a("code",[e._v("refreshImage")]),e._v(" method is described below. You should not use this\nmethod directly (use "),a("code",[e._v("refresh")]),e._v(" instead, because it includes additional post process logic), but you should know what's going on under its hood.")])]),e._v(" "),a("ol",[a("li",[e._v("First of all, stretcher is initialized. By default "),a("code",[e._v("initStretcher")]),e._v(" method tries to\nfit to external container image completely by defining to stretcher element its width and height.")])]),e._v(" "),a("p",[a("img",{attrs:{src:i(277),alt:"Example"}})]),e._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[a("p",[e._v("Cropper waits rerender to await the changing of external container size.")])]),e._v(" "),a("li",[a("p",[e._v("After rerender, the cropper determines the boundaries size by calling "),a("code",[e._v("boundaries")]),e._v(" method and getting its result to\nset "),a("code",[e._v("boundariesSize")]),e._v(" value.")])]),e._v(" "),a("li",[a("p",[e._v("After boundaries is determined, the visible area coordinates is calculated by method "),a("code",[e._v("defaultVisibleArea")]),e._v(".\nThe cropper always checks that visible area ratio is equal to the boundaries aspect ratio, if it's not equal,\ncropper recalculates visible area height to corresponding aspect ratio of the boundaries.")])]),e._v(" "),a("li",[a("p",[e._v("After calculating boundaries and visible area "),a("code",[e._v("updateVisibleArea")]),e._v(" methods is called. This method tries do adapt\ncalculated visible area on previous step to the previous "),a("code",[e._v("visibleArea")]),e._v(" value, current "),a("code",[e._v("coordinates")]),e._v(" and "),a("code",[e._v("boundariesSize")]),e._v(".")])]),e._v(" "),a("li",[a("p",[e._v("Cropper checks that coordinates fits inside visible area. If it's not cropper adapts coordinates to fit to\nvisible area. It may break minimum width and minimum height restrictions but it always preserve aspect ratio restrictions.")])]),e._v(" "),a("li",[a("p",[e._v("The internal values "),a("code",[e._v("visibleArea")]),e._v(" and "),a("code",[e._v("coordinates")]),e._v(" are updated.")])])]),e._v(" "),a("h2",{attrs:{id:"on-resize-window"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#on-resize-window","aria-hidden":"true"}},[e._v("#")]),e._v(" On resize window")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("Refresh image by "),a("code",[e._v("refreshImage")]),e._v(" method.")])]),e._v(" "),a("li",[a("p",[e._v("Update stencil coordinates.")])])]),e._v(" "),a("h2",{attrs:{id:"on-change-image"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#on-change-image","aria-hidden":"true"}},[e._v("#")]),e._v(" On change image")]),e._v(" "),a("p",[e._v("The following cycle runs when image is changed.")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("If "),a("code",[e._v("checkOrientation")]),e._v(" is true cropper send request to get the binary representation of image.\nIf the image was received and it has "),a("code",[e._v("jpg")]),e._v(" image type, the image orientation is parsed and used\nin the future.")])]),e._v(" "),a("li",[a("p",[e._v("After image was loaded "),a("code",[e._v("refreshImage")]),e._v(" is called and image is refreshed as written above.")])]),e._v(" "),a("li",[a("p",[e._v("Reset coordinates.")])]),e._v(" "),a("li",[a("p",[e._v("Update stencil coordinates.")])])])])},[],!1,null,null,null);t.default=r.exports}}]);