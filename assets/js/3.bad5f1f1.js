(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{11:function(e,t,i){"use strict";i.d(t,"a",function(){return Re}),i.d(t,"b",function(){return Je}),i.d(t,"c",function(){return tt}),i.d(t,"d",function(){return Ee}),i.d(t,"e",function(){return oe}),i.d(t,"f",function(){return Oe}),i.d(t,"g",function(){return qe}),i.d(t,"h",function(){return b});i(263),i(266),i(268),i(271),i(105),i(82),i(276),i(277);var n=i(278),o=(i(291),i(292),i(294),i(295),i(297),i(298),i(302),i(84),i(88),i(0));function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function a(e){for(var t,i=1;i<arguments.length;i++)t=null==arguments[i]?{}:arguments[i],i%2?r(Object(t),!0).forEach(function(i){s(e,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))});return e}function h(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?c(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n}var l,u,d=(function(e){!function(){function t(){for(var e,o=[],s=0;s<arguments.length;s++)if(e=arguments[s]){var r=Object(n.a)(e);if("string"===r||"number"===r)o.push(e);else if(Array.isArray(e)&&e.length){var a=t.apply(null,e);a&&o.push(a)}else if("object"===r)for(var h in e)i.call(e,h)&&e[h]&&o.push(h)}return o.join(" ")}var i={}.hasOwnProperty;e.exports?(t.default=t,e.exports=t):window.classNames=t}()}(u={path:l,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&u.path)}},u.exports),u.exports),p=function(e){return function(t,i){if(!t)return e;var n;"string"==typeof t?n=t:i=t;var o=e;return n&&(o+="__"+n),o+(i?Object.keys(i).reduce(function(e,t){var n=i[t];return n&&(e+=" "+("boolean"==typeof n?o+"--"+t:o+"--"+t+"_"+n)),e},""):"")}};function m(e,t,i){function n(){var c=Date.now()-a;c<t&&0<=c?o=setTimeout(n,t-c):(o=null,!i&&(h=e.apply(r,s),r=s=null))}var o,s,r,a,h;null==t&&(t=100);var c=function(){r=this,s=arguments,a=Date.now();var c=i&&!o;return o||(o=setTimeout(n,t)),c&&(h=e.apply(r,s),r=s=null),h};return c.clear=function(){o&&(clearTimeout(o),o=null)},c.flush=function(){o&&(h=e.apply(r,s),r=s=null,clearTimeout(o),o=null)},c}m.debounce=m;var f=m,g=function(){return(g=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},v=function(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this.type="manipulateImage",this.move=e,this.scale=t},b=function(e,t){void 0===t&&(t={}),this.type="resize",this.directions=e,this.params=t},w=function(e){this.type="move",this.directions=e},y=function(){function e(e,t,i,n,o){this.type="drag",this.nativeEvent=e,this.position=i,this.previousPosition=n,this.element=t,this.anchor=o}return e.prototype.shift=function(){var e=this,t=e.element,i=e.anchor,n=e.position,o=t.getBoundingClientRect(),s=o.left,r=o.top;return{left:n.left-s-i.left,top:n.top-r-i.top}},e}(),x=["left","right","top","bottom"],R=["left","right"],C=["top","bottom"],z=["left","top"],S=["area","stencil","none"],M={left:0,top:0,width:0,height:0};function A(e){return{left:e.left,top:e.top,right:e.left+e.width,bottom:e.top+e.height}}function E(e){return{left:e.left+e.width/2,top:e.top+e.height/2}}function _(e,t){var i=Math.max,n={left:0,top:0,right:0,bottom:0};return x.forEach(function(o){var s=t[o],r=A(e)[o];n[o]=void 0!==s&&void 0!==r?i(0,"left"===o||"top"===o?s-r:r-s):0}),n}function W(e,t){return{left:e.left-t.left,top:e.top-t.top,width:e.width+t.left+t.right,height:e.height+t.top+t.bottom}}function P(e,t){return g(g({},e),{left:e.left+t.left,top:e.top+t.top})}function H(e,t,i,n){if(i){var o=E(e);return{width:e.width*t,height:e.height*t,left:e.left+e.width*(1-t)/2+(i.left-o.left)*(n||1-t),top:e.top+e.height*(1-t)/2+(i.top-o.top)*(n||1-t)}}return{width:e.width*t,height:e.height*t,left:e.left+e.width*(1-t)/2,top:e.top+e.height*(1-t)/2}}function T(e){return e.width/e.height}function $(e,t){return Math.min(void 0!==t.right&&void 0!==t.left?(t.right-t.left)/e.width:1/0,void 0!==t.bottom&&void 0!==t.top?(t.bottom-t.top)/e.height:1/0)}function L(e,t){var i={left:0,top:0},n=_(e,t);return n.left&&0<n.left?i.left=n.left:n.right&&0<n.right&&(i.left=-n.right),n.top&&0<n.top?i.top=n.top:n.bottom&&0<n.bottom&&(i.top=-n.bottom),i}function O(e){var t=Math.min,i=Math.max,n=e.directions,o=e.coordinates,s=e.positionRestrictions,r=void 0===s?{}:s,a=e.sizeRestrictions,h=e.preserveRatio,c=e.compensate,l=g({},n),u=W(o,l).width,d=W(o,l).height;0>u&&(0>l.left&&0>l.right?(l.left=-(o.width-a.minWidth)/(l.left/l.right),l.right=-(o.width-a.minWidth)/(l.right/l.left)):0>l.left?l.left=-(o.width-a.minWidth):0>l.right&&(l.right=-(o.width-a.minWidth))),0>d&&(0>l.top&&0>l.bottom?(l.top=-(o.height-a.minHeight)/(l.top/l.bottom),l.bottom=-(o.height-a.minHeight)/(l.bottom/l.top)):0>l.top?l.top=-(o.height-a.minHeight):0>l.bottom&&(l.bottom=-(o.height-a.minHeight)));var p=_(W(o,l),r);c&&(p.left&&0<p.left&&0===p.right?(l.right+=p.left,l.left-=p.left):p.right&&0<p.right&&0===p.left&&(l.left+=p.right,l.right-=p.right),p.top&&0<p.top&&0===p.bottom?(l.bottom+=p.top,l.top-=p.top):p.bottom&&0<p.bottom&&0===p.top&&(l.top+=p.bottom,l.bottom-=p.bottom),p=_(W(o,l),r));var m={width:1/0,height:1/0,left:1/0,right:1/0,top:1/0,bottom:1/0};if(x.forEach(function(e){var t=p[e];t&&l[e]&&(m[e]=i(0,1-t/l[e]))}),h){var f=t.apply(Math,x.map(function(e){return m[e]}));f!==1/0&&x.forEach(function(e){l[e]*=f})}else x.forEach(function(e){m[e]!==1/0&&(l[e]*=m[e])});if(u=W(o,l).width,d=W(o,l).height,l.right+l.left&&(u>a.maxWidth?m.width=(a.maxWidth-o.width)/(l.right+l.left):u<a.minWidth&&(m.width=(a.minWidth-o.width)/(l.right+l.left))),l.bottom+l.top&&(d>a.maxHeight?m.height=(a.maxHeight-o.height)/(l.bottom+l.top):d<a.minHeight&&(m.height=(a.minHeight-o.height)/(l.bottom+l.top))),h){var v=t(m.width,m.height);v!==1/0&&x.forEach(function(e){l[e]*=v})}else m.width!==1/0&&R.forEach(function(e){l[e]*=m.width}),m.height!==1/0&&C.forEach(function(e){l[e]*=m.height});return l}function D(e,t){var i;return t.minimum&&e<t.minimum?i=t.minimum:t.maximum&&e>t.maximum&&(i=t.maximum),i}function j(e,t){var i=Math.min;return g(g({},e),{minWidth:i(t.width,e.minWidth),minHeight:i(t.height,e.minHeight),maxWidth:i(t.width,e.maxWidth),maxHeight:i(t.height,e.maxHeight)})}function B(e){var t=e.size,i=e.aspectRatio,n=e.ignoreMinimum,o=e.sizeRestrictions;return!!((t.correctRatio||T(t)>=i.minimum&&T(t)<=i.maximum)&&t.height<=o.maxHeight&&t.width<=o.maxWidth&&t.width&&t.height&&(n||t.height>=o.minHeight&&t.width>=o.minWidth))}function k(e,t){var i=Math.pow;return i(e.width-t.width,2)+i(e.height-t.height,2)}function X(e){var t=Math.min,i=Math.max;function n(e,t){return void 0===t&&(t=!1),e.reduce(function(e,i){return B({size:i,aspectRatio:a,sizeRestrictions:r,ignoreMinimum:t})&&(!e||k(i,{width:o,height:s})<k(e,{width:o,height:s}))?i:e},null)}var o=e.width,s=e.height,r=e.sizeRestrictions,a={minimum:e.aspectRatio&&e.aspectRatio.minimum||0,maximum:e.aspectRatio&&e.aspectRatio.maximum||1/0},h={width:i(r.minWidth,t(r.maxWidth,o)),height:i(r.minHeight,t(r.maxHeight,s))},c=[];a&&[a.minimum,a.maximum].forEach(function(e){e&&c.push({width:h.width,height:h.width/e,correctRatio:!0},{width:h.height*e,height:h.height,correctRatio:!0})}),B({size:h,aspectRatio:a,sizeRestrictions:r})&&c.push(h);var l=n(c)||n(c,!0);return l&&{width:l.width,height:l.height}}function Y(e,t){var i,n;return e&&t?(i=""+e+t[0].toUpperCase()+t.slice(1),n=e+"-"+t):(i=e||t,n=e||t),{name:i,classname:n}}function I(e){return/^data:/.test(e)||/^blob:/.test(e)}function U(e){return void 0===e}function F(e,t){void 0===t&&(t={});var i=g({enabled:!!e},t);return function(e){return"object"==Object(n.a)(e)&&null!==e}(e)&&(i=g(g({},i),e)),i}function N(e){var t=+e;return(0,Number.isNaN)(t)?e:t}function q(e,t,i){return V(e)||console.warn('Warning: prop "'+t+'" is deprecated, use "'+i+'" instead. Value:',e),!0}function V(e){return(!e||0===Object.keys(e).length)&&"function"!=typeof e}function G(e,t){var i=Math.min,n=Math.max,o={};return x.forEach(function(s){var r=e[s],a=t[s];void 0!==r&&void 0!==a?o[s]="left"===s||"top"===s?n(r,a):i(r,a):a?o[s]=a:r&&(o[s]=r)}),o}function Z(e,t){var i=Math.pow;return Math.sqrt(i(e.x-t.x,2)+i(e.y-t.y,2))}function J(e){var t=e.event,i=e.coordinates,n=e.positionRestrictions,o=void 0===n?{}:n,s=P(i,t.directions);return P(s,L(s,o))}function K(e){var t=e.coordinates,i=e.transform,n=e.imageSize,o=e.sizeRestrictions,s=e.positionRestrictions,r=e.aspectRatio,a=function(e,t){return J({coordinates:e,positionRestrictions:s,event:new w({left:t.left-e.left,top:t.top-e.top})})},h=g({},t);return(Array.isArray(i)?i:[i]).forEach(function(e){var t;U((t="function"==typeof e?e(g({},h),n):e).width)&&U(t.height)||(h=function(e,t){var i=g(g(g({},e),X({width:t.width,height:t.height,sizeRestrictions:o,aspectRatio:r})),{left:0,top:0});return a(i,{left:e.left,top:e.top})}(h,g(g({},h),t))),U(t.left)&&U(t.top)||(h=a(h,g(g({},h),t)))}),h}function Q(e,t){return G(e,A(t))}function ee(e){var t=Math.min,i=e.sizeRestrictions,n=e.imageSize,o=e.visibleArea,s=e.positionRestrictions,r=e.imageRestriction,a=void 0===r?"none":r,h=g(g({},i),{minWidth:void 0===i.minWidth?0:i.minWidth,minHeight:void 0===i.minHeight?0:i.minHeight,maxWidth:void 0===i.maxWidth?1/0:i.maxWidth,maxHeight:void 0===i.maxHeight?1/0:i.maxHeight});if(void 0!==s.left&&void 0!==s.right&&(h.maxWidth=t(h.maxWidth,s.right-s.left)),void 0!==s.bottom&&void 0!==s.top&&(h.maxHeight=t(h.maxHeight,s.bottom-s.top)),"none"!==a){var c=function(e,t){var i=T(e);return i>T(t)?{width:t.width,height:t.width/i}:{width:t.height*i,height:t.height}}(o,n),l="area"===a?c.width:n.width,u="area"===a?c.height:n.height;(!h.maxWidth||h.maxWidth>l)&&(h.maxWidth=l),(!h.maxHeight||h.maxHeight>u)&&(h.maxHeight=u)}return h.minWidth>h.maxWidth&&(console.warn("Warning: maximum width ("+h.maxWidth+"px) fewer that the minimum width ("+h.minWidth+"px). It is set equal to the minimum width and width resizing was blocked"),h.minWidth=h.maxWidth,h.widthFrozen=!0),h.minHeight>h.maxHeight&&(console.warn("Warning: maximum height ("+h.maxHeight+"px) fewer that the minimum height ("+h.minHeight+"px). It is set equal to the minimum height and height resizing was blocked"),h.minHeight=h.maxHeight,h.heightFrozen=!0),h}function te(e,t,i,n,o,s,r,a,h,c){"boolean"!=typeof r&&(h=a,a=r,r=!1);var l,u="function"==typeof i?i.options:i;if(e&&e.render&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,o&&(u.functional=!0)),n&&(u._scopeId=n),s?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,h(e)),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=l):t&&(l=r?function(e){t.call(this,c(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,a(e))}),l)if(u.functional){var d=u.render;u.render=function(e,t){return l.call(t),d(e,t)}}else{var p=u.beforeCreate;u.beforeCreate=p?[].concat(p,l):[l]}return i}var ie={name:"DraggableElement",mixins:[{beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeDestroy:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){if(!this.$refs.draggable)throw new Error('You should add ref "draggable" to your root element to use draggable mixin');this.touches=[],this.hovered=!1},methods:{onMouseOver:function(){this.hovered||(this.hovered=!0,this.$emit("enter"))},onMouseLeave:function(){this.hovered&&!this.touches.length&&(this.hovered=!1,this.$emit("leave"))},onTouchStart:function(e){e.cancelable&&!this.disabled&&1===e.touches.length&&(this.touches=h(e.touches),!this.hovered&&(this.$emit("enter"),this.hovered=!0),e.touches.length&&this.initAnchor(this.touches.reduce(function(t,i){return{clientX:t.clientX+i.clientX/e.touches.length,clientY:t.clientY+i.clientY/e.touches.length}},{clientX:0,clientY:0})),e.preventDefault&&e.preventDefault(),e.stopPropagation())},onTouchEnd:function(){this.processEnd()},onTouchMove:function(e){this.touches.length&&(this.processMove(e,e.touches),e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation())},onMouseDown:function(e){if(!this.disabled){var t={fake:!0,clientX:e.clientX,clientY:e.clientY};this.touches=[t],this.initAnchor(t),e.stopPropagation()}},onMouseMove:function(e){this.touches.length&&(this.processMove(e,[{fake:!0,clientX:e.clientX,clientY:e.clientY}]),e.preventDefault&&e.preventDefault())},onMouseUp:function(){this.processEnd()},initAnchor:function(e){var t=this.$refs.draggable.getBoundingClientRect(),i=t.left,n=t.right,o=t.bottom,s=t.top;this.anchor={left:e.clientX-i,top:e.clientY-s,bottom:o-e.clientY,right:n-e.clientX}},processMove:function(e,t){var i=h(t);if(this.touches.length){if(1===this.touches.length&&1===i.length){var n=this.$refs.draggable;this.$emit("drag",new y(e,n,{left:i[0].clientX,top:i[0].clientY},{left:this.touches[0].clientX,top:this.touches[0].clientY},this.anchor))}this.touches=i}},processEnd:function(){this.touches=[],this.hovered&&(this.$emit("leave"),this.hovered=!1)}}}],props:{classname:{type:String}}},ne=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{ref:"draggable",class:e.classname,on:{touchstart:e.onTouchStart,mousedown:e.onMouseDown,mouseover:e.onMouseOver,mouseleave:e.onMouseLeave}},[e._t("default")],2)};ne._withStripped=!0;var oe=te({render:ne,staticRenderFns:[]},void 0,ie,void 0,!1,void 0,!1,void 0,void 0,void 0),se=p("vue-handler-wrapper"),re={name:"HandlerWrapper",components:{DraggableElement:oe},props:{horizontalPosition:{type:String},verticalPosition:{type:String},disabled:{type:Boolean,default:!1},classname:{type:String,validator:function(e){return q(e,"classname","class")}}},computed:{classes:function(){var e;if(this.horizontalPosition||this.verticalPosition){var t,i=Y(this.horizontalPosition,this.verticalPosition);e=d(this.classname,se((s(t={},i.classname,!0),s(t,"disabled",this.disabled),t)))}else e=d(this.classname,se({disabled:this.disabled}));return{root:e,draggable:se("draggable")}}}},ae=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.classes.root},[i("DraggableElement",{class:e.classes.draggable,attrs:{disabled:e.disabled},on:{drag:function(t){return e.$emit("drag",t)},leave:function(){return e.$emit("leave")},enter:function(){return e.$emit("enter")}}},[e._t("default")],2)],1)};ae._withStripped=!0;var he=te({render:ae,staticRenderFns:[]},void 0,re,void 0,!1,void 0,!1,void 0,void 0,void 0),ce=p("vue-line-wrapper"),le={name:"LineWrapper",components:{DraggableElement:oe},props:{position:{type:String,required:!0},disabled:{type:Boolean,default:!1}},computed:{classname:function(){var e;return ce((s(e={},this.position,!0),s(e,"disabled",this.disabled),e))}}},ue=function(){var e=this,t=e.$createElement;return(e._self._c||t)("DraggableElement",{class:e.classname,attrs:{disabled:e.disabled},on:{drag:function(t){return e.$emit("drag",t)},leave:function(){return e.$emit("leave")},enter:function(){return e.$emit("enter")}}},[e._t("default")],2)};ue._withStripped=!0;var de=te({render:ue,staticRenderFns:[]},void 0,le,void 0,!1,void 0,!1,void 0,void 0,void 0),pe=p("vue-simple-handler"),me={name:"SimpleHandler",components:{HandlerWrapper:he},props:{classname:{type:String},hoverClassname:{type:String},horizontalPosition:{type:String},verticalPosition:{type:String},disabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{classnames:function(){var e;return{default:d(pe((e={},s(e,this.horizontalPosition,!!this.horizontalPosition),s(e,this.verticalPosition,!!this.verticalPosition),s(e,"".concat(this.horizontalPosition,"-").concat(this.verticalPosition),!(!this.verticalPosition||!this.horizontalPosition)),s(e,"hover",this.hover),e)),this.classname,this.hover&&this.hoverClassname)}}},methods:{onDrag:function(e){this.$emit("drag",e)},onEnter:function(){this.hover=!0},onLeave:function(){this.hover=!1}}},fe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("HandlerWrapper",{attrs:{"vertical-position":e.verticalPosition,"horizontal-position":e.horizontalPosition,disabled:e.disabled},on:{drag:e.onDrag,enter:e.onEnter,leave:e.onLeave}},[i("div",{class:e.classnames.default})])};fe._withStripped=!0;var ge=te({render:fe,staticRenderFns:[]},void 0,me,void 0,!1,void 0,!1,void 0,void 0,void 0),ve=p("vue-bounding-box"),be=["east","west",null],we=["south","north",null],ye={name:"BoundingBox",props:{handlers:{type:Object,default:function(){return{eastNorth:!0,north:!0,westNorth:!0,west:!0,westSouth:!0,south:!0,eastSouth:!0,east:!0}}},handlerComponent:{type:[Object,String],default:function(){return ge}},handlersClasses:{type:Object,default:function(){return{}}},lines:{type:Object,default:function(){return{west:!0,north:!0,east:!0,south:!0}}},lineComponent:{type:[Object,String]},linesClasses:{type:Object,default:function(){return{}}},scalable:{type:Boolean,default:!0},classname:{type:String,validator:function(e){return q(e,"classname","class")}},linesClassnames:{type:Object,default:function(){return{}},validator:function(e){return q(e,"linesClassnames","linesClasses")}},handlersClassnames:{type:Object,default:function(){return{}},validator:function(e){return q(e,"handlersClassnames","handlersClasses")}}},data:function(){var e=[];return be.forEach(function(t){we.forEach(function(i){if(t!==i){var n=Y(t,i),o=n.name,s=n.classname;e.push({name:o,classname:s,verticalDirection:i,horizontalDirection:t})}})}),{points:e}},computed:{classes:function(){var e=V(this.handlersClasses)?this.handlersClassnames:this.handlersClasses,t=V(this.linesClasses)?this.linesClassnames:this.linesClasses;return{root:d(ve(),this.classname),handlers:e,lines:t}},lineNodes:function(){var e=this,t=[];return this.points.forEach(function(i){i.horizontalDirection&&i.verticalDirection||!e.lines[i.name]||t.push({name:i.name,component:e.lineComponent,class:d(e.classes.lines.default,e.classes.lines[i.name],!e.scalable&&e.classes.lines.disabled),hoverClass:e.classes.lines.hover,verticalDirection:i.verticalDirection,horizontalDirection:i.horizontalDirection,disabled:!e.scalable})}),t},handlerNodes:function(){var e=this,t=[];return this.points.forEach(function(i){e.handlers[i.name]&&t.push({name:i.name,component:e.handlerComponent,class:d(e.classes.handlers.default,e.classes.handlers[i.name]),hoverClass:e.classes.handlers.hover,verticalDirection:i.verticalDirection,horizontalDirection:i.horizontalDirection,disabled:!e.scalable})}),t}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeDestroy:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[]},methods:{onHandlerDrag:function(e,t,i){var n,o=e.shift(),s=o.left,r=o.top,a={left:0,right:0,top:0,bottom:0};"west"===t?a.left-=s:"east"==t&&(a.right+=s),"north"===i?a.top-=r:"south"==i&&(a.bottom+=r),!i&&t?n="width":i&&!t&&(n="height"),this.scalable&&this.$emit("resize",new b(a,{allowedDirections:{left:"west"===t||!t,right:"east"===t||!t,bottom:"south"===i||!i,top:"north"===i||!i},preserveAspectRatio:e.nativeEvent&&e.nativeEvent.shiftKey,respectDirection:n}))}}},xe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"box",class:e.classes.root},[e._t("default"),e._v(" "),i("div",e._l(e.lineNodes,function(t){return i(t.component,{key:t.name,tag:"component",attrs:{classname:t.class,"hover-classname":t.hoverClass,position:t.name,disabled:t.disabled},on:{drag:function(i){return e.onHandlerDrag(i,t.horizontalDirection,t.verticalDirection)}}})}),1),e._v(" "),i("div",e._l(e.handlerNodes,function(t){return i(t.component,{key:t.name,tag:"component",attrs:{classname:t.class,"hover-classname":t.hoverClass,"horizontal-position":t.horizontalDirection,"vertical-position":t.verticalDirection,disabled:t.disabled},on:{drag:function(i){return e.onHandlerDrag(i,t.horizontalDirection,t.verticalDirection)}}})}),1)],2)};xe._withStripped=!0;var Re=te({render:xe,staticRenderFns:[]},void 0,ye,void 0,!1,void 0,!1,void 0,void 0,void 0),Ce=function(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this.type="manipulateImage",this.move=e,this.scale=t},ze=function(e){this.type="move",this.directions=e},Se=p("vue-draggable-area"),Me={name:"DraggableArea",props:{movable:{type:Boolean,default:!0},activationDistance:{type:Number,default:10}},computed:{classnames:function(){return{default:d(Se(),this.classname)}}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeDestroy:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[],this.touchStarted=!1},methods:{onTouchStart:function(e){if(e.cancelable){var t=this.movable&&1===e.touches.length;t&&(this.touches=h(e.touches)),(this.touchStarted||t)&&(e.preventDefault(),e.stopPropagation())}},onTouchEnd:function(){this.touchStarted=!1,this.processEnd()},onTouchMove:function(e){1<=this.touches.length&&(this.touchStarted?(this.processMove(e,e.touches),e.preventDefault(),e.stopPropagation()):Z({x:this.touches[0].clientX,y:this.touches[0].clientY},{x:e.touches[0].clientX,y:e.touches[0].clientY})>this.activationDistance&&(this.initAnchor({clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}),this.touchStarted=!0))},onMouseDown:function(e){if(this.movable){var t={fake:!0,clientX:e.clientX,clientY:e.clientY};this.touches=[t],this.initAnchor(t),e.stopPropagation()}},onMouseMove:function(e){this.touches.length&&(this.processMove(e,[{fake:!0,clientX:e.clientX,clientY:e.clientY}]),e.preventDefault&&e.cancelable&&e.preventDefault(),e.stopPropagation())},onMouseUp:function(){this.touches=[]},initAnchor:function(e){var t=this.$refs.container.getBoundingClientRect(),i=t.left,n=t.top;this.anchor={x:e.clientX-i,y:e.clientY-n}},processMove:function(e,t){var i=h(t);if(this.touches.length){var n=this.$refs.container.getBoundingClientRect(),o=n.left,s=n.top;1===this.touches.length&&1===i.length&&this.$emit("move",new ze({left:i[0].clientX-(o+this.anchor.x),top:i[0].clientY-(s+this.anchor.y)}))}},processEnd:function(){this.touches=[]}}},Ae=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{ref:"container",on:{touchstart:e.onTouchStart,mousedown:e.onMouseDown}},[e._t("default")],2)};Ae._withStripped=!0;var Ee=te({render:Ae,staticRenderFns:[]},void 0,Me,void 0,!1,void 0,!1,void 0,void 0,void 0),_e=4;function We(e){return new Promise(function(t,i){try{if(e)if(/^data:/i.test(e))t(function(e){e=e.replace(/^data:([^;]+);base64,/gim,"");for(var t=atob(e),i=t.length,n=new ArrayBuffer(i),o=new Uint8Array(n),s=0;s<i;s++)o[s]=t.charCodeAt(s);return n}(e));else if(/^blob:/i.test(e)){var n=new FileReader;n.onload=function(e){t(e.target.result)},function(e,t){var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="blob",i.onload=function(){(200==this.status||0===this.status)&&t(this.response)},i.send()}(e,function(e){n.readAsArrayBuffer(e)})}else{var o=new XMLHttpRequest;o.onreadystatechange=function(){o.readyState!==_e||(200===o.status||0===o.status?t(o.response):i("Warning: could not load an image to parse its orientation"),o=null)},o.onprogress=function(){"image/jpeg"!==o.getResponseHeader("content-type")&&o.abort()},o.withCredentials=!1,o.open("GET",e,!0),o.responseType="arraybuffer",o.send(null)}else i("Error: the image is empty")}catch(t){i(t)}})}function Pe(e){var t=e.rotate,i=e.scaleX,n=e.scaleY,o="";return(t||i||n)&&(t&&(o+=" rotate("+t+"deg) "),i&&(o+=" scaleX("+i+") "),n&&(o+=" scaleY("+n+") ")),o}function He(e){try{var t,i=new DataView(e),n=void 0,o=void 0,s=void 0,r=void 0;if(255===i.getUint8(0)&&216===i.getUint8(1))for(var a=i.byteLength,h=2;h+1<a;){if(255===i.getUint8(h)&&225===i.getUint8(h+1)){s=h;break}h++}if(s&&(n=s+10,"Exif"===function(e,t,i){var n,o="";for(n=t,i+=t;n<i;n++)o+=String.fromCharCode(e.getUint8(n));return o}(i,s+4,4))){var c=i.getUint16(n);if(((o=18761===c)||19789===c)&&42===i.getUint16(n+2,o)){var l=i.getUint32(n+4,o);8<=l&&(r=n+l)}}if(r)for(var u=i.getUint16(r,o),d=0;d<u;d++)if(h=r+12*d+2,274===i.getUint16(h,o)){h+=8,t=i.getUint16(h,o),i.setUint16(h,1,o);break}return t}catch(e){return null}}var Te=p("vue-preview-result"),$e={name:"PreviewResult",props:{img:{type:Object},stencilCoordinates:{type:Object,default:function(){return{width:0,height:0,left:0,top:0}}},imageClass:{type:String},classname:{type:String,validator:function(e){return q(e,"classname","class")}},imageClassname:{type:String,validator:function(e){return q(e,"imageClassname","imageClass")}}},computed:{classes:function(){return{root:d(Te(),this.classname),image:d(Te("image"),this.imageClass||this.imageClassname),wrapper:Te("wrapper")}},wrapperStyle:function(){return{width:"".concat(this.stencilCoordinates.width,"px"),height:"".concat(this.stencilCoordinates.height,"px"),left:"calc(50% - ".concat(this.stencilCoordinates.width/2,"px)"),top:"calc(50% - ".concat(this.stencilCoordinates.height/2,"px)")}},imageStyle:function(){var e=this.img.transforms,t=e.flipped,i=this.img.coefficient,n=this.img.size.height/i,o=this.img.size.width/i,s={width:"".concat(o,"px"),height:"".concat(n,"px")};return t?(s.width="".concat(n,"px"),s.height="".concat(o,"px"),s.left="".concat(-this.stencilCoordinates.left-e.translateX-(n-o)/2,"px"),s.top="".concat(-this.stencilCoordinates.top-e.translateY-(o-n)/2,"px")):(s.left="".concat(-this.stencilCoordinates.left-e.translateX,"px"),s.top="".concat(-this.stencilCoordinates.top-e.translateY,"px")),s.transform=Pe(e),s}}},Le=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.classes.root},[i("div",{ref:"wrapper",class:e.classes.wrapper,style:e.wrapperStyle},[i("img",{ref:"image",class:e.classes.image,style:e.imageStyle,attrs:{src:e.img.src}})])])};Le._withStripped=!0;var Oe=te({render:Le,staticRenderFns:[]},void 0,$e,void 0,!1,void 0,!1,void 0,void 0,void 0),De={name:"CropperWrapper",props:{touchMove:{type:Object,required:!0},mouseMove:{type:Object,required:!0},touchResize:{type:Object,required:!0},wheelResize:{type:Object,required:!0}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeDestroy:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[]},methods:{onTouchStart:function(e){if(e.cancelable&&(this.touchMove.enabled||this.touchResize.enabled&&1<e.touches.length)){var t=this.$refs.container.getBoundingClientRect(),i=t.left,n=t.top,o=t.bottom,s=t.right;this.touches=h(e.touches).filter(function(e){return e.clientX>i&&e.clientX<s&&e.clientY>n&&e.clientY<o}),this.oldGeometricProperties=this.calculateGeometricProperties(this.touches),e.preventDefault&&e.preventDefault(),e.stopPropagation()}},onTouchEnd:function(e){0===e.touches.length&&this.processEnd()},onTouchMove:function(e){var t=this;if(this.touches.length){var i=h(e.touches).filter(function(e){return!e.identifier||t.touches.find(function(t){return t.identifier===e.identifier})});this.processMove(e,i),e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()}},onMouseDown:function(e){if(this.mouseMove&&"buttons"in e&&1===e.buttons){var t={fake:!0,clientX:e.clientX,clientY:e.clientY};this.touches=[t],e.stopPropagation()}},onMouseMove:function(e){this.touches.length&&(this.processMove(e,[{fake:!0,clientX:e.clientX,clientY:e.clientY}]),e.preventDefault&&e.cancelable&&e.preventDefault())},onMouseUp:function(){this.touches=[]},calculateGeometricProperties:function(e){var t=this.$refs.container.getBoundingClientRect(),i=t.left,n=t.top,o={left:0,top:0},s=0;return e.forEach(function(t){o.left+=(t.clientX-i)/e.length,o.top+=(t.clientY-n)/e.length}),e.forEach(function(e){s+=Z({x:o.left,y:o.top},{x:e.clientX-i,y:e.clientY-n})}),{centerMass:o,spread:s,count:e.length}},processMove:function(e,t){if(this.touches.length){if(1===this.touches.length&&1===t.length&&this.touchMove.enabled)this.$emit("move",new Ce({left:this.touches[0].clientX-t[0].clientX,top:this.touches[0].clientY-t[0].clientY}));else if(1<this.touches.length&&this.touchResize){var i=this.oldGeometricProperties,n=this.calculateGeometricProperties(t);i.count===n.count&&1<i.count&&this.$emit("resize",new Ce({left:i.centerMass.left-n.centerMass.left,top:i.centerMass.top-n.centerMass.top},{factor:i.spread/n.spread,center:n.centerMass})),this.oldGeometricProperties=n}this.touches=t}},processEnd:function(){this.touches=[]},onWheel:function(e){if(this.wheelResize.enabled){var t=this.$refs.container.getBoundingClientRect(),i=t.left,n=t.top,o=1+this.wheelResize.ratio*Math.sign(e.deltaY||e.detail||e.wheelDelta),s={left:e.clientX-i,top:e.clientY-n};this.$emit("resize",new Ce({},{factor:o,center:s})),e.preventDefault(),e.stopPropagation()}}}},je=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{ref:"container",on:{touchstart:e.onTouchStart,mousedown:e.onMouseDown,wheel:e.onWheel}},[e._t("default")],2)};je._withStripped=!0;var Be=te({render:je,staticRenderFns:[]},void 0,De,void 0,!1,void 0,!1,void 0,void 0,void 0),ke=p("vue-simple-line"),Xe={name:"SimpleLine",components:{LineWrapper:de},props:{classname:{type:String},hoverClassname:{type:String},position:{type:String},disabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{classes:function(){return{root:d(ke(s({},this.position,!0)),this.classname,this.hover&&this.hoverClassname)}}},methods:{onDrag:function(e){this.$emit("drag",e)},onEnter:function(){this.hover=!0},onLeave:function(){this.hover=!1}}},Ye=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("LineWrapper",{attrs:{position:e.position,disabled:e.disabled},on:{enter:e.onEnter,leave:e.onLeave,drag:e.onDrag}},[i("div",{class:e.classes.root})])};Ye._withStripped=!0;var Ie=te({render:Ye,staticRenderFns:[]},void 0,Xe,void 0,!1,void 0,!1,void 0,void 0,void 0),Ue=p("vue-rectangle-stencil"),Fe={name:"RectangleStencil",components:{PreviewResult:Oe,BoundingBox:Re,DraggableArea:Ee},props:{img:{type:Object},stencilCoordinates:{type:Object},handlers:{type:Object},handlerComponent:{type:[Object,String],default:function(){return ge}},lines:{type:Object},lineComponent:{type:[Object,String],default:function(){return Ie}},aspectRatio:{type:[Number,String]},minAspectRatio:{type:[Number,String]},maxAspectRatio:{type:[Number,String]},movable:{type:Boolean,default:!0},scalable:{type:Boolean,default:!0},previewClass:{type:String},boundingBoxClass:{type:String},linesClasses:{type:Object,default:function(){return{}}},handlersClasses:{type:Object,default:function(){return{}}},classname:{type:String,validator:function(e){return q(e,"classname","class")}},previewClassname:{type:String,validator:function(e){return q(e,"previewClassname","previewClass")}},boundingBoxClassname:{type:String,validator:function(e){return q(e,"boundingBoxClassname","boundingBoxClass")}},linesClassnames:{type:Object,validator:function(e){return q(e,"linesClassnames","linesClasses")}},handlersClassnames:{type:Object,validator:function(e){return q(e,"handlersClassnames","handlersClasses")}}},computed:{classes:function(){return{stencil:d(Ue({movable:this.movable}),this.classname),preview:d(Ue("preview"),this.previewClass||this.previewClassname),boundingBox:d(Ue("bounding-box"),this.boundingBoxClass||this.boundingBoxClassname)}},style:function(){var e=this.stencilCoordinates,t=e.height,i=e.width,n=e.left,o=e.top;return{width:"".concat(i,"px"),height:"".concat(t,"px"),left:"".concat(n,"px"),top:"".concat(o,"px")}}},methods:{onMove:function(e){this.$emit("move",e)},onResize:function(e){this.$emit("resize",e)},aspectRatios:function(){return{minimum:this.aspectRatio||this.minAspectRatio,maximum:this.aspectRatio||this.maxAspectRatio}}}},Ne=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.classes.stencil,style:e.style},[i("BoundingBox",{class:e.classes.boundingBox,attrs:{handlers:e.handlers,"handler-component":e.handlerComponent,"handlers-classnames":e.handlersClassnames,"handlers-classes":e.handlersClasses,lines:e.lines,"line-component":e.lineComponent,"lines-classnames":e.linesClassnames,"lines-classes":e.linesClasses,scalable:e.scalable},on:{resize:e.onResize}},[i("DraggableArea",{attrs:{movable:e.movable},on:{move:e.onMove}},[i("PreviewResult",{class:e.classes.preview,attrs:{img:e.img,"stencil-coordinates":e.stencilCoordinates}})],1)],1)],1)};Ne._withStripped=!0;var qe=te({render:Ne,staticRenderFns:[]},void 0,Fe,void 0,!1,void 0,!1,void 0,void 0,void 0),Ve=p("vue-circle-stencil"),Ge={name:"CircleStencil",components:{PreviewResult:Oe,BoundingBox:Re,DraggableArea:Ee},props:{img:{type:Object},stencilCoordinates:{type:Object},handlers:{type:Object,default:function(){return{eastNorth:!0,westNorth:!0,westSouth:!0,eastSouth:!0}}},handlerComponent:{type:[Object,String],default:function(){return ge}},lines:{type:Object},lineComponent:{type:[Object,String],default:function(){return Ie}},movable:{type:Boolean,default:!0},scalable:{type:Boolean,default:!0},previewClass:{type:String},boundingBoxClass:{type:String},linesClasses:{type:Object,default:function(){return{}}},handlersClasses:{type:Object,default:function(){return{}}},classname:{type:String,validator:function(e){return q(e,"classname","class")}},previewClassname:{type:String,validator:function(e){return q(e,"previewClassname","previewClass")}},boundingBoxClassname:{type:String,validator:function(e){return q(e,"boundingBoxClassname","boundingBoxClass")}},linesClassnames:{type:Object,validator:function(e){return q(e,"linesClassnames","linesClasses")}},handlersClassnames:{type:Object,validator:function(e){return q(e,"handlersClassnames","handlersClasses")}}},computed:{classes:function(){return{stencil:d(Ve(),this.classname),preview:d(Ve("preview"),this.previewClass||this.previewClassname),boundingBox:d(Ve("bounding-box"),this.boundingBoxClass||this.boundingBoxClassname)}},style:function(){var e=this.stencilCoordinates,t=e.height,i=e.width,n=e.left,o=e.top;return{width:"".concat(i,"px"),height:"".concat(t,"px"),left:"".concat(n,"px"),top:"".concat(o,"px")}}},methods:{onMove:function(e){this.$emit("move",e)},onResize:function(e){this.$emit("resize",e)},aspectRatios:function(){return{minimum:1,maximum:1}}}},Ze=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.classes.stencil,style:e.style},[i("BoundingBox",{class:e.classes.boundingBox,attrs:{handlers:e.handlers,"handler-component":e.handlerComponent,"handlers-classes":e.handlersClasses,"handlers-classnames":e.handlersClassnames,lines:e.lines,"line-component":e.lineComponent,"lines-classes":e.linesClasses,"lines-classnames":e.linesClassnames,scalable:e.scalable},on:{resize:e.onResize}},[i("DraggableArea",{attrs:{movable:e.movable},on:{move:e.onMove}},[i("PreviewResult",{class:e.classes.preview,attrs:{img:e.img,"stencil-coordinates":e.stencilCoordinates}})],1)],1)],1)};Ze._withStripped=!0;var Je=te({render:Ze,staticRenderFns:[]},void 0,Ge,void 0,!1,void 0,!1,void 0,void 0,void 0),Ke=p("vue-advanced-cropper"),Qe={name:"Cropper",components:{CropperWrapper:Be},props:{src:{type:String,default:null},stencilComponent:{type:[Object,String],default:function(){return qe}},stencilProps:{type:Object,default:function(){return{}}},imageClass:{type:String},areaClass:{type:String},backgroundClass:{type:String},minWidth:{type:[Number,String]},minHeight:{type:[Number,String]},maxWidth:{type:[Number,String]},maxHeight:{type:[Number,String]},debounce:{type:[Boolean,Number],default:500},canvas:{type:Boolean,default:!0},checkOrientation:{type:Boolean,default:!0},crossOrigin:{type:String,default:"anonymous"},transitionTime:{type:Number,default:300},wheelResize:{type:[Boolean,Object],default:!0},touchResize:{type:[Boolean,Object],default:!0},touchMove:{type:[Boolean,Object],default:!0},mouseMove:{type:[Boolean,Object],default:!0},imageRestriction:{type:String,default:"area",validator:function(e){return-1!==S.indexOf(e)}},roundResult:{type:Boolean,default:!0},resizeAlgorithm:{type:Function,default:function(e){var t=Math.abs,i=e.event,n=e.coordinates,o=e.aspectRatio,s=e.positionRestrictions,r=e.sizeRestrictions,a=g(g({},n),{right:n.left+n.width,bottom:n.top+n.height}),h=i.params||{},c=g({},i.directions),l=h.allowedDirections||{left:!0,right:!0,bottom:!0,top:!0};r.widthFrozen&&(c.left=0,c.right=0),r.heightFrozen&&(c.top=0,c.bottom=0),x.forEach(function(e){l[e]||(c[e]=0)});var u=W(a,c=O({coordinates:a,directions:c,sizeRestrictions:r,positionRestrictions:s})).width,d=W(a,c).height,p=h.preserveRatio?T(a):D(u/d,o);if(p){var m=h.respectDirection;if(m||(m=a.width>=a.height||1===p?"width":"height"),"width"===m){var f=u/p-a.height;l.top&&l.bottom?(c.bottom=f/2,c.top=f/2):l.bottom?c.bottom=f:l.top?c.top=f:l.right?c.right=0:l.left&&(c.left=0)}else if("height"===m){var v=a.width-d*p;l.left&&l.right?(c.left=-v/2,c.right=-v/2):l.left?c.left=-v:l.right?c.right=-v:l.top?c.top=0:l.bottom&&(c.bottom=0)}c=O({directions:c,coordinates:a,sizeRestrictions:r,positionRestrictions:s,preserveRatio:!0,compensate:h.compensate})}return u=W(a,c).width,d=W(a,c).height,(p=h.preserveRatio?T(a):D(u/d,o))&&.001<t(p-u/d)&&(console.error("Something went wrong and ratio was broken: "+u/d+" instead of "+p),x.forEach(function(e){l[e]||(c[e]=0)})),J({event:new w({left:-c.left,top:-c.top}),coordinates:{width:n.width+c.right+c.left,height:n.height+c.top+c.bottom,left:n.left,top:n.top},positionRestrictions:s})}},moveAlgorithm:{type:Function,default:J},initStretcher:{type:Function,default:function(e){var t=e.stretcher,i=e.imageSize,n=T(i);i.height>i.width?(t.style.height=i.height+"px",t.style.width=t.clientHeight*n+"px",t.clientWidth/t.clientHeight!==n&&(t.style.height=t.clientWidth/n+"px")):(t.style.width=i.width+"px",t.style.height=t.clientWidth/n+"px",t.clientHeight/t.clientWidth!==n&&(t.style.width=t.clientHeight*n+"px"))}},fitCoordinates:{type:Function,default:function(e){var t=Math.min,i=e.visibleArea,n=e.coordinates,o=e.aspectRatio,s=e.sizeRestrictions,r=e.positionRestrictions,a=g(g({},n),X({width:n.width,height:n.height,aspectRatio:o,sizeRestrictions:{maxWidth:i.width,maxHeight:i.height,minHeight:t(i.height,s.minHeight),minWidth:t(i.width,s.minWidth)}}));return a=P(a,function(e,t){return{left:e.left-t.left,top:e.top-t.top}}(E(n),E(a))),a=P(a,L(a,G(A(i),r)))}},fitVisibleArea:{type:Function,default:function(e){var t=Math.min,i=Math.max,n=e.visibleArea,o=e.boundaries,s=e.areaRestrictions,r=e.coordinates,a=g({},n);a.height=a.width/T(o),a.top+=(n.height-a.height)/2,(0<r.height-a.height||0<r.width-a.width)&&(a=H(a,i(r.height/a.height,r.width/a.height)));var h=_(a,s);return h.left+h.right+h.top+h.bottom&&(a=h.left+h.right>h.top+h.bottom?H(a,t((a.width+h.left+h.right)/a.width,$(a,s))):H(a,t((a.height+h.top+h.bottom)/a.height,$(a,s)))),a}},defaultVisibleArea:{type:Function,default:function(e){var t=e.imageSize,i=e.boundaries,n=T(t),o=T(i),s={height:n>o?t.height:t.width/o,width:n>o?t.height*o:t.width};return{left:t.width/2-s.width/2,top:t.height/2-s.height/2,width:s.width,height:s.height}}},defaultSize:{type:Function,default:function(e){var t=e.visibleArea,i=e.aspectRatio,n=e.sizeRestrictions;return X({width:.8*t.width,height:.8*t.height,aspectRatio:i,sizeRestrictions:j(n,t)})}},defaultPosition:{type:Function,default:function(e){var t=e.visibleArea,i=e.coordinates;return{left:t.left+t.width/2-i.width/2,top:t.top+t.height/2-i.height/2}}},defaultBoundaries:{type:Function,default:function(e){var t=e.cropper,i=e.imageSize,n=t.clientHeight,o=t.clientWidth,s=n,r=i.width*n/i.height;return r>o&&(r=o,s=i.height*o/i.width),{width:r,height:s}}},areaRestrictionsAlgorithm:{type:Function,default:function(e){var t=e.imageSize,i={};return"area"===e.imageRestriction&&(i={left:0,top:0,right:t.width,bottom:t.height}),i}},sizeRestrictionsAlgorithm:{type:Function,default:function(e){var t=e.imageSize,i=e.minWidth,n=e.minHeight,o=e.maxWidth,s=e.maxHeight;return{minWidth:i/100*t.width,minHeight:n/100*t.height,maxWidth:o/100*t.width,maxHeight:s/100*t.height}}},positionRestrictionsAlgorithm:{type:Function,default:function(e){var t=e.imageSize,i={};return"none"!==e.imageRestriction&&(i={left:0,top:0,right:t.width,bottom:t.height}),i}},restrictions:{type:Function,validator:function(e){return q(e,"restrictions","sizeRestrictionsAlgorithm")}},classname:{type:String,validator:function(e){return q(e,"classname","class")}},imageClassname:{type:String,validator:function(e){return q(e,"imageClassname","imageClass")}},areaClassname:{type:String,validator:function(e){return q(e,"areaClassname","areaClass")}},backgroundClassname:{type:String,validator:function(e){return q(e,"backgroundClassname","backgroundClass")}}},data:function(){return{imageLoaded:!1,imageAttributes:{crossOrigin:!1,src:null},basicImageTransforms:{rotate:null,scaleX:null,scaleY:null},imageSize:{width:null,height:null},boundaries:{width:null,height:null},visibleArea:{},coordinates:a({},M)}},computed:{settings:function(){return{resize:F(this.resize,{stencil:!1}),touchResize:F(this.touchResize),touchMove:F(this.touchMove),mouseMove:F(this.mouseMove),wheelResize:F(this.wheelResize,{ratio:.1})}},coefficient:function(){return this.visibleArea.width?this.visibleArea.width/this.boundaries.width:0},areaRestrictions:function(){return this.areaRestrictionsAlgorithm({imageSize:this.imageSize,visibleArea:this.visibleArea,imageRestriction:this.imageRestriction})},areaStyle:function(){return{width:this.boundaries.width?"".concat(this.boundaries.width,"px"):"auto",height:this.boundaries.height?"".concat(this.boundaries.height,"px"):"auto",opacity:this.imageLoaded?1:0,transition:"opacity ".concat(this.transitionTime,"ms"),pointerEvents:this.imageLoaded?"all":"none"}},imageStyle:function(){var e={left:"".concat(this.imageSize.width/(2*this.coefficient)-this.imageTransforms.translateX,"px"),top:"".concat(this.imageSize.height/(2*this.coefficient)-this.imageTransforms.translateY,"px"),transform:"translate(-50%, -50%)"+Pe(this.imageTransforms)};return this.imageTransforms.flipped?(e.width="".concat(this.imageSize.height/this.coefficient,"px"),e.height="".concat(this.imageSize.width/this.coefficient,"px")):(e.width="".concat(this.imageSize.width/this.coefficient,"px"),e.height="".concat(this.imageSize.height/this.coefficient,"px")),e},sizeRestrictions:function(){return this.calculateSizeRestrictions()},positionRestrictions:function(){return this.calculatePositionRestrictions()},classes:function(){return{cropper:d(Ke(),this.classname),image:d(Ke("image"),this.imageClass||this.imageClassname),area:d(Ke("area"),this.areaClass||this.areaClassname),stretcher:d(Ke("stretcher")),background:d(Ke("background"),this.backgroundClass||this.backgroundClassname),imageWrapper:d(Ke("image-wrapper")),cropperWrapper:d(Ke("cropper-wrapper"))}},imageTransforms:function(){return a(a({},this.basicImageTransforms),{},{scaleX:this.basicImageTransforms.scaleX||1,scaleY:this.basicImageTransforms.scaleY||1,translateX:this.visibleArea.left/this.coefficient,translateY:this.visibleArea.top/this.coefficient})},stencilCoordinates:function(){var e=this.coordinates,t=e.width,i=e.height,n=e.left,o=e.top;return{width:t/this.coefficient,height:i/this.coefficient,left:(n-this.visibleArea.left)/this.coefficient,top:(o-this.visibleArea.top)/this.coefficient}},wrapperStyle:function(){return{width:"".concat(this.stencilCoordinates.width,"px"),height:"".concat(this.stencilCoordinates.height,"px"),left:"".concat(this.stencilCoordinates.left,"px"),top:"".concat(this.stencilCoordinates.top,"px")}}},watch:{src:function(){this.onChangeImage()},minWidth:function(){this.onPropsChange()},stencilComponent:function(){var e=this;this.$nextTick(function(){e.resetCoordinates()})},maxWidth:function(){this.onPropsChange()},minHeight:function(){this.onPropsChange()},maxHeight:function(){this.onPropsChange()},imageRestriction:function(){this.reset()},stencilProps:function(e,t){["aspectRatio","minAspectRatio","maxAspectRatio"].find(function(i){return e[i]!==t[i]})&&this.$nextTick(this.onPropsChange)}},mounted:function(){var e=this;this.debouncedUpdate=f(this.update,this.debounce),this.$refs.image.addEventListener("load",function(){e.onSuccessLoadImage()}),this.$refs.image.addEventListener("error",function(){e.onFailLoadImage()}),this.onChangeImage(),window.addEventListener("resize",this.refresh),window.addEventListener("orientationchange",this.refresh)},destroyed:function(){window.removeEventListener("resize",this.refresh),window.removeEventListener("orientationchange",this.refresh)},methods:{getResult:function(){var e=this.prepareResult(a({},this.coordinates));return this.canvas&&this.src&&this.imageLoaded?(this.updateCanvas(this.coordinates),{coordinates:e,visibleArea:a({},this.visibleArea),canvas:this.$refs.canvas}):{coordinates:e,visibleArea:a({},this.visibleArea)}},zoom:function(e,t){this.onManipulateImage(new v({},{factor:1/e,center:t}))},move:function(e,t){this.onManipulateImage(new v({left:e*this.coefficient||0,top:t*this.coefficient||0}))},setCoordinates:function(e){var t=this,i=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).autoZoom;this.$nextTick(function(){t.imageLoaded?t.applyTransform(e,!(void 0!==i)||i):t.delayedTransforms=e})},prepareResult:function(e){return this.roundResult?function(e){var t=Math.ceil,i=Math.floor,n=Math.round,o=e.coordinates,s=e.sizeRestrictions,r=e.positionRestrictions,a={width:n(o.width),height:n(o.height),left:n(o.left),top:n(o.top)};return a.width>s.maxWidth?a.width=i(o.width):a.width<s.minWidth&&(a.width=t(o.width)),a.height>s.maxHeight?a.height=i(o.height):a.height<s.minHeight&&(a.height=t(o.height)),void 0!==r.left&&(a.left<r.left||void 0!==r.right&&a.left+a.width>r.right)&&(a.left=i(r.left)),void 0!==r.top&&(a.top<r.top||void 0!==r.bottom&&a.top+a.height>r.bottom)&&(a.top=i(r.top)),a}(a(a({},this.getPublicProperties()),{},{positionRestrictions:Q(this.positionRestrictions,this.visibleArea),coordinates:e})):e},autoZoom:function(e){var t=function(e){var t=Math.min,i=Math.max,n=e.coordinates,o=e.visibleArea,s=e.areaRestrictions,r=g({},o),a=g({},n),h=i(0,a.width-r.width),c=i(0,a.height-r.height);return h>c?r=H(r,t(a.width/r.width,$(r,s))):c>h&&(r=H(r,t(a.height/r.height,$(r,s)))),r=P(r,function(e){return{left:-e.left,top:-e.top}}(L(a,A(r)))),{visibleArea:r=P(r,L(r,s))}}(a(a({},this.getPublicProperties()),{},{coordinates:e})).visibleArea;this.visibleArea=t},normalizeEvent:function(e){return function(e){var t=e.event,i=e.visibleArea,n=e.coefficient;if("manipulateImage"===t.type)return g(g({},t),{move:{left:t.move&&t.move.left?n*t.move.left:0,top:t.move&&t.move.top?n*t.move.top:0},scale:{factor:t.scale&&t.scale.factor?t.scale.factor:1,center:t.scale&&t.scale.center?{left:t.scale.center.left*n+i.left,top:t.scale.center.top*n+i.top}:null}});if("resize"===t.type){var o=g(g({},t),{directions:g({},t.directions)});return x.forEach(function(e){o.directions[e]*=n}),o}if("move"===t.type){var s=g(g({},t),{directions:g({},t.directions)});return z.forEach(function(e){s.directions[e]*=n}),s}return t}(a(a({},this.getPublicProperties()),{},{event:e}))},updateCanvas:function(e){if(this.$refs.canvas){var t=this.$refs.image,i=this.checkOrientation?function(e,t,i){var n=Math.PI,o=i.flipped,s=i.orientation,r=t.naturalWidth,a=t.naturalHeight,h=e.getContext("2d");return e.width=r,e.height=a,h.save(),o&&(e.width=a,e.height=r),2==s?(h.translate(r,0),h.scale(-1,1)):3==s?(h.translate(r,a),h.rotate(1*n)):4==s?(h.translate(0,a),h.scale(1,-1)):5==s?(h.rotate(.5*n),h.scale(1,-1)):6==s?(h.rotate(.5*n),h.translate(0,-a)):7==s?(h.rotate(1.5*n),h.translate(-r,a),h.scale(1,-1)):8==s&&(h.translate(0,r),h.rotate(1.5*n)),h.drawImage(t,0,0,r,a),h.restore(),e}(this.$refs.sourceCanvas,t,this.imageTransforms):t,n=this.$refs.canvas;n.width=e.width,n.height=e.height;var o=n.getContext("2d");o.clearRect(0,0,n.width,n.height),o.drawImage(i,e.left,e.top,e.width,e.height,0,0,e.width,e.height)}},update:function(){this.$emit("change",this.getResult())},onChangeCoordinates:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];this.coordinates=e,this.$listeners&&this.$listeners.change&&(t&&this.debounce?this.debouncedUpdate():this.update())},onChangeImage:function(){var e=this;this.imageLoaded=!1,this.delayedTransforms=null,this.imageAttributes.src=null,this.src?(function(e){if(I(e))return!1;var t=window.location,i=/(\w+:)?(?:\/\/)([\w.-]+)?(?::(\d+))?\/?/.exec(e)||[],n={protocol:i[1]||"",host:i[2]||"",port:i[3]||""},o=function(e){return e.port||function(e){return"http"===e?80:433}(e.protocol||t.protocol)};return(n.protocol||n.host||n.port)&&!(n.protocol&&n.protocol==t.protocol&&n.host&&n.host==t.host&&n.host&&o(n)==o(t))}(this.src)&&this.canvas&&(this.imageAttributes.crossOrigin=this.crossOrigin),setTimeout(function(){(function(e){return new Promise(function(t){We(e).then(function(i){t(i?{source:e,arrayBuffer:i,orientation:He(i)}:{source:e,arrayBuffer:null,orientation:null})}).catch(function(i){console.warn(i),t({source:e,arrayBuffer:null,orientation:null})})})})(e.src).then(e.onParseImage)},this.transitionTime)):this.clearImage()},onFailLoadImage:function(){this.clearImage(),this.$emit("error")},onSuccessLoadImage:function(){var e=this,t=this.$refs.image;t&&!this.imageLoaded&&(this.imageTransforms.flipped?(this.imageSize.height=t.naturalWidth,this.imageSize.width=t.naturalHeight):(this.imageSize.height=t.naturalHeight,this.imageSize.width=t.naturalWidth),this.imageLoaded=!0,this.reset().then(function(){e.$emit("ready")}))},onParseImage:function(e){var t=this,i=e.source,n=e.arrayBuffer,o=e.orientation;this.imageAttributes.src=n&&o&&I(i)?function(e){for(var t=[],i=new Uint8Array(e);0<i.length;){var n=i.subarray(0,8192);t.push(String.fromCharCode.apply(null,Array.from?Array.from(n):n.slice())),i=i.subarray(8192)}return"data:image/jpeg;base64,"+btoa(t.join(""))}(n):i,this.basicImageTransforms=function(e){var t={orientation:e};return e&&(2===e?t.scaleX=-1:3===e?t.rotate=-180:4===e?t.scaleY=-1:5===e?(t.rotate=90,t.scaleY=-1):6===e?t.rotate=90:7===e?(t.rotate=90,t.scaleX=-1):8===e&&(t.rotate=-90)),(90===t.rotate||-90===t.rotate)&&(t.flipped=!0),t}(o),this.$nextTick(function(){var e=t.$refs.image;e&&e.complete&&(function(e){return!!e.naturalWidth}(e)?t.onSuccessLoadImage():t.onFailLoadImage())})},onMove:function(e){this.onChangeCoordinates(this.moveAlgorithm(a(a({},this.getPublicProperties()),{},{positionRestrictions:Q(this.positionRestrictions,this.visibleArea),coordinates:this.coordinates,event:this.normalizeEvent(e)})))},onResize:function(e){var t=Math.max,i=this.sizeRestrictions,n=Math.min(this.coordinates.width,this.coordinates.height,20*this.coefficient);this.onChangeCoordinates(this.resizeAlgorithm(a(a({},this.getPublicProperties()),{},{positionRestrictions:Q(this.positionRestrictions,this.visibleArea),sizeRestrictions:a(a({},i),{},{minWidth:t(i.minWidth,n),minHeight:t(i.minHeight,n)}),event:this.normalizeEvent(e)})))},onManipulateImage:function(e){var t=function(e){var t=Math.abs,i=Math.pow,n=Math.min,o=Math.max,s=e.event,r=e.coordinates,a=e.visibleArea,h=e.sizeRestrictions,c=e.areaRestrictions,l=e.positionRestrictions,u=e.settings,d=void 0===u?{}:u,p=s.scale,m=s.move,f=g({},a),v=g({},r),b=1,w=1,y=p.factor&&.001<t(p.factor-1);f=P(f,{left:m.left||0,top:m.top||0});var x={stencil:{minimum:o(h.minWidth?h.minWidth/v.width:0,h.minHeight?h.minHeight/v.height:0),maximum:n(h.maxWidth?h.maxWidth/v.width:1/0,h.maxHeight?h.maxHeight/v.height:1/0,$(v,l))},area:{maximum:$(f,c)}};p.factor&&y&&(1>p.factor?1<(w=o(p.factor,x.stencil.minimum))&&(w=1):1<p.factor&&1>(w=n(p.factor,n(x.area.maximum,x.stencil.maximum)))&&(w=1)),w&&(f=H(f,w,p.center));var R=r.left-a.left,C=a.width+a.left-(r.width+r.left),z=r.top-a.top,S=a.height+a.top-(r.height+r.top);return f=P(f,L(f,c)),f=P(f,L(f,{left:void 0===l.left?void 0:l.left-R*w,top:void 0===l.top?void 0:l.top-z*w,bottom:void 0===l.bottom?void 0:l.bottom+S*w,right:void 0===l.right?void 0:l.right+C*w})),v.width*=w,v.height*=w,v.left=f.left+R*w,v.top=f.top+z*w,p.factor&&y&&d.stencil&&(1<p.factor?b=n(x.area.maximum,p.factor)/w:1>p.factor&&(b=o(v.height/f.height,p.factor)/w),f=P(f=H(f,b,E(v),i(1<p.factor?x.area.maximum:v.height/f.height,2)),L(f,c))),{coordinates:v,visibleArea:f}}(a(a({},this.getPublicProperties()),{},{event:this.normalizeEvent(e),imageRestriction:this.imageRestriction,settings:{resize:this.settings.resize.stencil}})),i=t.visibleArea,n=t.coordinates;this.visibleArea=i,this.onChangeCoordinates(n)},onPropsChange:function(){this.applyTransform(this.coordinates,!0,!0)},applyTransform:function(e){var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],i=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],n=K({coordinates:this.coordinates,transform:e,sizeRestrictions:this.visibleArea&&i?j(this.sizeRestrictions,this.visibleArea):this.sizeRestrictions,positionRestrictions:this.positionRestrictions,aspectRatio:this.getAspectRatio(),imageSize:this.imageSize});return t&&this.autoZoom(n),this.onChangeCoordinates(n,!1),n},resetCoordinates:function(){var e=this;if(this.$refs.image){var t=this.$refs.cropper,i=this.$refs.image,n=this.sizeRestrictions,o=(n.minWidth,n.minHeight,n.maxWidth,n.maxHeight,[this.defaultSize(a({boundaries:this.boundaries,visibleArea:this.visibleArea,imageSize:this.imageSize,aspectRatio:this.getAspectRatio(),sizeRestrictions:this.sizeRestrictions,cropper:t,image:i,imageWidth:this.imageSize.width,imageHeight:this.imageSize.height,props:this.$props},this.sizeRestrictions)),function(n){return a({},e.defaultPosition({coordinates:n,visibleArea:e.visibleArea,imageSize:e.imageSize,cropper:t,image:i,stencilWidth:n.width,stencilHeight:n.height,imageWidth:e.imageSize.width,imageHeight:e.imageSize.height,props:e.$props}))}]);this.delayedTransforms&&o.push.apply(o,h(Array.isArray(this.delayedTransforms)?this.delayedTransforms:[this.delayedTransforms])),this.applyTransform(o,!1,!0),this.delayedTransforms=null}},clearImage:function(){var e=this,t=this.$refs.stretcher;this.imageLoaded=!1,setTimeout(function(){t.style.height="auto",t.style.width="auto",e.coordinates=a({},M),e.boundaries={width:0,height:0}},this.transitionTime)},updateBoundaries:function(){var e=this,t=this.$refs.stretcher,i=this.$refs.cropper;return this.initStretcher({cropper:i,stretcher:t,imageSize:this.imageSize}),this.$nextTick().then(function(){e.boundaries=e.defaultBoundaries({cropper:i,imageSize:e.imageSize})})},resetVisibleArea:function(){var e=this;return this.updateBoundaries().then(function(){e.visibleArea=function(e){var t=e.visibleArea,i=e.boundaries,n=g({},t),o=T(i);return n.width/n.height!==o&&(n.height=n.width/o),n}({visibleArea:e.defaultVisibleArea({imageSize:e.imageSize,boundaries:e.boundaries,areaRestrictions:e.areaRestrictions}),boundaries:e.boundaries})})},updateVisibleArea:function(){var e=this;return this.updateBoundaries().then(function(){e.visibleArea=e.fitVisibleArea({imageSize:e.imageSize,boundaries:e.boundaries,visibleArea:e.visibleArea,coordinates:e.coordinates,areaRestrictions:e.areaRestrictions}),e.coordinates=e.fitCoordinates({visibleArea:e.visibleArea,coordinates:e.coordinates,aspectRatio:e.getAspectRatio(),positionRestrictions:e.positionRestrictions,sizeRestrictions:e.calculateSizeRestrictions({visibleArea:e.visibleArea})})})},refresh:function(){var e=this.$refs.image;if(this.src&&e)return this.updateVisibleArea()},reset:function(){return this.resetVisibleArea().then(this.resetCoordinates)},getAspectRatio:function(){return this.$refs.stencil.aspectRatios?this.$refs.stencil.aspectRatios():{minimum:this.stencilProps.aspectRatio||this.stencilProps.minAspectRatio,maximum:this.stencilProps.aspectRatio||this.stencilProps.maxAspectRatio}},getPublicProperties:function(){return{coefficient:this.coefficient,visibleArea:this.visibleArea,coordinates:this.coordinates,boundaries:this.boundaries,sizeRestrictions:this.sizeRestrictions,positionRestrictions:this.positionRestrictions,areaRestrictions:this.areaRestrictions,aspectRatio:this.getAspectRatio(),imageRestriction:this.imageRestriction}},calculatePositionRestrictions:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).visibleArea||this.visibleArea;return this.positionRestrictionsAlgorithm({imageSize:this.imageSize,imageRestriction:this.imageRestriction,visibleArea:e})},calculateSizeRestrictions:function(){return ee({visibleArea:(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).visibleArea||this.visibleArea,sizeRestrictions:(this.restrictions||this.sizeRestrictionsAlgorithm)({imageSize:this.imageSize,minWidth:U(this.minWidth)?0:N(this.minWidth),minHeight:U(this.minHeight)?0:N(this.minHeight),maxWidth:U(this.maxWidth)?1/0:N(this.maxWidth),maxHeight:U(this.maxHeight)?1/0:N(this.maxHeight),imageWidth:this.imageSize.width,imageHeight:this.imageSize.height,props:this.$props}),positionRestrictions:this.positionRestrictions,imageSize:this.imageSize,imageRestriction:this.imageRestriction})}}},et=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"cropper",class:e.classes.cropper},[i("div",{class:e.classes.background,style:e.areaStyle}),e._v(" "),i("div",{ref:"stretcher",class:e.classes.stretcher}),e._v(" "),i("div",{ref:"area",class:e.classes.area,style:e.areaStyle},[i("cropper-wrapper",{class:e.classes.cropperWrapper,attrs:{"wheel-resize":e.settings.wheelResize,"touch-resize":e.settings.touchResize,"touch-move":e.settings.touchMove,"mouse-move":e.settings.touchMove},on:{move:e.onManipulateImage,resize:e.onManipulateImage}},[i("div",{class:e.classes.imageWrapper},[i("img",{ref:"image",class:e.classes.image,style:e.imageStyle,attrs:{crossorigin:e.imageAttributes.crossOrigin,src:e.imageAttributes.src},on:{mousedown:function(e){e.preventDefault()}}})]),e._v(" "),i(e.stencilComponent,e._b({ref:"stencil",tag:"component",attrs:{img:{src:e.imageAttributes.src,size:e.imageSize,transforms:e.imageTransforms,coefficient:e.coefficient},"result-coordinates":e.coordinates,"stencil-coordinates":e.stencilCoordinates},on:{resize:e.onResize,move:e.onMove}},"component",e.stencilProps,!1)),e._v(" "),e.canvas?i("canvas",{ref:"canvas",style:{display:"none"}}):e._e(),e._v(" "),e.canvas?i("canvas",{ref:"sourceCanvas",style:{display:"none"}}):e._e()],1)],1)])};et._withStripped=!0;var tt=te({render:et,staticRenderFns:[]},void 0,Qe,void 0,!1,void 0,!1,void 0,void 0,void 0),it=p("vue-preview-image"),nt={name:"PreviewImage",props:{img:{type:String},imageClass:{type:String},width:{type:Number},height:{type:Number},top:{type:Number},left:{type:Number},previewWidth:{type:Number,required:!0},previewHeight:{type:Number,required:!0}},data:function(){return{imageSize:{width:0,height:0}}},computed:{classes:function(){return{root:it(),image:d(it("image"),this.imageClass)}},wrapperStyle:function(){return{width:"".concat(this.previewWidth,"px"),height:"".concat(this.previewHeight,"px")}},imageStyle:function(){var e=this.previewHeight/this.height;return{width:"".concat(this.imageSize.width*e,"px"),height:"".concat(this.imageSize.height*e,"px"),left:"".concat(-this.left*e,"px"),top:"".concat(-this.top*e,"px")}}},watch:{img:function(){this.onChangeImage()}},mounted:function(){this.onChangeImage()},methods:{refreshImage:function(){var e=this.$refs.image;this.imageSize.height=e.naturalHeight,this.imageSize.width=e.naturalWidth},onChangeImage:function(){var e=this,t=this.$refs.image;t.complete?this.refreshImage():t.addEventListener("load",function(){e.refreshImage()})}}},ot=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.classes.root,style:e.wrapperStyle},[i("img",{ref:"image",class:e.classes.image,style:e.imageStyle,attrs:{src:e.img}})])};ot._withStripped=!0;te({render:ot,staticRenderFns:[]},void 0,nt,void 0,!1,void 0,!1,void 0,void 0,void 0);o.a.component("cropper",tt),o.a.component("rectangle-stencil",qe),o.a.component("circle-stencil",Je),o.a.component("simple-handler",ge),o.a.component("simple-line",Ie),function(e,t){if(t&&"undefined"!=typeof document){for(var i,n=document.head||document.getElementsByTagName("head")[0],o=n.getElementsByTagName("style"),s=0;s<o.length;s++)o[s]&&o[s].innerText&&o[s].innerText.startsWith("/*for="+e)&&(i=o[s]);if(i||((i=document.createElement("style")).type="text/css",n.insertBefore(i,o[0]||n.firstChild)),i.styleSheet)i.styleSheet.cssText=t;else{var r=document.createTextNode("/*for="+e+"*/"+t);i.innerHTML="",i.appendChild(r)}}}("vue-advanced-cropper",".vue-advanced-cropper {  text-align: center;  position: relative;  -webkit-user-select: none;     -moz-user-select: none;      -ms-user-select: none;          user-select: none;  max-height: 100%;  max-width: 100%;  direction: ltr;}.vue-advanced-cropper__stretcher {  pointer-events: none;  position: relative;  max-width: 100%;  max-height: 100%;}.vue-advanced-cropper__image {  opacity: 0.5;  -webkit-user-select: none;     -moz-user-select: none;      -ms-user-select: none;          user-select: none;  position: absolute;  -webkit-transform-origin: center;          transform-origin: center;  max-width: unset !important;}.vue-advanced-cropper__area {  position: absolute;  left: 50%;  -webkit-transform: translate(-50%, -50%);          transform: translate(-50%, -50%);  top: 50%;}.vue-advanced-cropper__background {  position: absolute;  background: black;  top: 50%;  left: 50%;  -webkit-transform: translate(-50%, -50%);          transform: translate(-50%, -50%);}.vue-advanced-cropper__cropper-wrapper {  width: 100%;  height: 100%;}.vue-advanced-cropper__image-wrapper {  overflow: hidden;  position: absolute;  width: 100%;  height: 100%;}.vue-advanced-cropper__stencil-wrapper {  position: absolute;}/*# sourceMappingURL=Cropper.vue.map */.vue-handler-wrapper {  position: absolute;  -webkit-transform: translate(-50%, -50%);          transform: translate(-50%, -50%);}.vue-handler-wrapper__draggable {  width: 30px;  height: 30px;  display: -webkit-box;  display: -ms-flexbox;  display: flex;  -webkit-box-align: center;      -ms-flex-align: center;          align-items: center;  -webkit-box-pack: center;      -ms-flex-pack: center;          justify-content: center;}.vue-handler-wrapper--west-north {  left: 0;  top: 0;  cursor: nw-resize;}.vue-handler-wrapper--north {  left: 50%;  top: 0;  cursor: n-resize;}.vue-handler-wrapper--east-north {  left: 100%;  top: 0;  cursor: ne-resize;}.vue-handler-wrapper--east {  left: 100%;  top: 50%;  cursor: e-resize;}.vue-handler-wrapper--east-south {  left: 100%;  top: 100%;  cursor: se-resize;}.vue-handler-wrapper--south {  left: 50%;  top: 100%;  cursor: s-resize;}.vue-handler-wrapper--west-south {  left: 0;  top: 100%;  cursor: sw-resize;}.vue-handler-wrapper--west {  left: 0;  top: 50%;  cursor: w-resize;}.vue-handler-wrapper--disabled {  cursor: auto;}/*# sourceMappingURL=HandlerWrapper.vue.map */.vue-simple-line {  background: none;  -webkit-transition: border 0.5s;  transition: border 0.5s;  border-color: rgba(255, 255, 255, 0.3);  border-width: 0;  border-style: solid;}.vue-simple-line--south, .vue-simple-line--north {  height: 0;  width: 100%;}.vue-simple-line--east, .vue-simple-line--west {  height: 100%;  width: 0;}.vue-simple-line--east {  border-right-width: 1px;}.vue-simple-line--west {  border-left-width: 1px;}.vue-simple-line--south {  border-top-width: 1px;}.vue-simple-line--north {  border-bottom-width: 1px;}.vue-simple-line--hover {  opacity: 1;  border-color: white;}/*# sourceMappingURL=SimpleLine.vue.map */.vue-draggable-area {  position: relative;}/*# sourceMappingURL=DraggableArea.vue.map */.vue-bounding-box {  position: relative;  height: 100%;  width: 100%;}/*# sourceMappingURL=BoundingBox.vue.map */.vue-preview-result {  overflow: hidden;  -webkit-box-sizing: border-box;          box-sizing: border-box;  position: absolute;  height: 100%;  width: 100%;}.vue-preview-result__wrapper {  position: absolute;}.vue-preview-result__image {  pointer-events: none;  position: absolute;  -webkit-user-select: none;     -moz-user-select: none;      -ms-user-select: none;          user-select: none;  -webkit-transform-origin: center;          transform-origin: center;  max-width: unset !important;}/*# sourceMappingURL=PreviewResult.vue.map */.vue-line-wrapper {  background: none;  position: absolute;  display: -webkit-box;  display: -ms-flexbox;  display: flex;  -webkit-box-align: center;      -ms-flex-align: center;          align-items: center;  -webkit-box-pack: center;      -ms-flex-pack: center;          justify-content: center;}.vue-line-wrapper--north, .vue-line-wrapper--south {  height: 12px;  width: 100%;  left: 0;  -webkit-transform: translateY(-50%);          transform: translateY(-50%);}.vue-line-wrapper--north {  top: 0;  cursor: n-resize;}.vue-line-wrapper--south {  top: 100%;  cursor: s-resize;}.vue-line-wrapper--east, .vue-line-wrapper--west {  width: 12px;  height: 100%;  -webkit-transform: translateX(-50%);          transform: translateX(-50%);  top: 0;}.vue-line-wrapper--east {  left: 100%;  cursor: e-resize;}.vue-line-wrapper--west {  left: 0;  cursor: w-resize;}.vue-line-wrapper--disabled {  cursor: auto;}/*# sourceMappingURL=LineWrapper.vue.map */.vue-circle-stencil {  position: absolute;  height: 100%;  width: 100%;  -webkit-box-sizing: content-box;          box-sizing: content-box;  cursor: move;}.vue-circle-stencil__preview {  border-radius: 50%;}/*# sourceMappingURL=CircleStencil.vue.map */.vue-rectangle-stencil {  position: absolute;  height: 100%;  width: 100%;  -webkit-box-sizing: border-box;          box-sizing: border-box;}.vue-rectangle-stencil--movable {  cursor: move;}/*# sourceMappingURL=RectangleStencil.vue.map */.vue-preview-image {  overflow: hidden;  position: relative;}.vue-preview-image__image {  pointer-events: none;  position: absolute;  max-width: unset !important;}/*# sourceMappingURL=PreviewImage.vue.map */.vue-simple-handler {  display: block;  background: white;  height: 10px;  width: 10px;}/*# sourceMappingURL=SimpleHandler.vue.map */")}}]);