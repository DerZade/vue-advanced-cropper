(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{103:function(t,e,o){"use strict";var i=o(91),n=o(30),r=o(64),a=o(104),c=o(105),s=o(98),h=o(106),l=o(107);n(n.S+n.F*!o(108)(function(t){Array.from(t)}),"Array",{from:function(t){var e,o,n,f,u=r(t),p="function"==typeof this?this:Array,d=arguments.length,m=d>1?arguments[1]:void 0,g=void 0!==m,v=0,b=l(u);if(g&&(m=i(m,d>2?arguments[2]:void 0,2)),null==b||p==Array&&c(b))for(o=new p(e=s(u.length));e>v;v++)h(o,v,g?m(u[v],v):u[v]);else for(f=b.call(u),o=new p;!(n=f.next()).done;v++)h(o,v,g?a(f,m,[n.value,v],!0):n.value);return o.length=v,o}})},104:function(t,e,o){var i=o(54);t.exports=function(t,e,o,n){try{return n?e(i(o)[0],o[1]):e(o)}catch(e){var r=t.return;throw void 0!==r&&i(r.call(t)),e}}},105:function(t,e,o){var i=o(29),n=o(14)("iterator"),r=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||r[n]===t)}},106:function(t,e,o){"use strict";var i=o(28),n=o(55);t.exports=function(t,e,o){e in t?i.f(t,e,n(0,o)):t[e]=o}},107:function(t,e,o){var i=o(65),n=o(14)("iterator"),r=o(29);t.exports=o(13).getIteratorMethod=function(t){if(null!=t)return t[n]||t["@@iterator"]||r[i(t)]}},108:function(t,e,o){var i=o(14)("iterator"),n=!1;try{var r=[7][i]();r.return=function(){n=!0},Array.from(r,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!n)return!1;var o=!1;try{var r=[7],a=r[i]();a.next=function(){return{done:o=!0}},r[i]=function(){return a},t(r)}catch(t){}return o}},109:function(t,e,o){t.exports=o(110)},110:function(t,e,o){o(111),o(63),t.exports=o(112)},112:function(t,e,o){var i=o(65),n=o(14)("iterator"),r=o(29);t.exports=o(13).isIterable=function(t){var e=Object(t);return void 0!==e[n]||"@@iterator"in e||r.hasOwnProperty(i(e))}},131:function(t,e,o){},155:function(t,e,o){"use strict";var i=o(88),n=o.n(i);var r=o(94),a=o.n(r),c=o(109),s=o.n(c);function h(t){return function(t){if(n()(t)){for(var e=0,o=new Array(t.length);e<t.length;e++)o[e]=t[e];return o}}(t)||function(t){if(s()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return a()(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}o.d(e,"a",function(){return h})},198:function(t,e,o){var i=o(30),n=o(13),r=o(62);t.exports=function(t,e){var o=(n.Object||{})[t]||Object[t],a={};a[t]=e(o),i(i.S+i.F*r(function(){o(1)}),"Object",a)}},199:function(t,e,o){t.exports=o(300)},292:function(t,e,o){t.exports=o(293)},293:function(t,e,o){o(294);var i=o(13).Object;t.exports=function(t,e){return i.getOwnPropertyDescriptor(t,e)}},294:function(t,e,o){var i=o(38),n=o(194).f;o(198)("getOwnPropertyDescriptor",function(){return function(t,e){return n(i(t),e)}})},295:function(t,e,o){t.exports=o(296)},296:function(t,e,o){o(191),t.exports=o(13).Object.getOwnPropertySymbols},297:function(t,e,o){t.exports=o(298)},298:function(t,e,o){o(299),t.exports=o(13).Object.keys},299:function(t,e,o){var i=o(64),n=o(76);o(198)("keys",function(){return function(t){return n(i(t))}})},300:function(t,e,o){o(301);var i=o(13).Object;t.exports=function(t,e,o){return i.defineProperty(t,e,o)}},301:function(t,e,o){var i=o(30);i(i.S+i.F*!o(36),"Object",{defineProperty:o(28).f})},302:function(t,e,o){"use strict";var i=o(131);o.n(i).a},330:function(t,e,o){"use strict";o.r(e);var i=o(292),n=o.n(i),r=o(295),a=o.n(r),c=o(297),s=o.n(c),h=o(199),l=o.n(h);function f(t,e,o){return e in t?l()(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function u(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},i=s()(o);"function"==typeof a.a&&(i=i.concat(a()(o).filter(function(t){return n()(o,t).enumerable}))),i.forEach(function(e){f(t,e,o[e])})}return t}var p=o(11),d=o(155),m=(o(67),["left","right"]),g=["top","bottom"],v=["left","right","top","bottom"];o(190);function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var w=function t(e,o){b(this,t),this.nativeEvent=e,this.directions=o};function x(t,e,o){return t.width+o*(e.left+e.right)}function y(t,e,o){return t.height+o*(e.top+e.bottom)}function A(t){var e=t.directions,o=t.coordinates,i=t.restrictions,n=t.coefficient,r=t.preserveAspectRatio,a=t.stopOnBreak,c=t.mode,s=void 0===c?"crop":c,h=t.allowedArea,l=void 0===h?{}:h,f=u({},e),p=x(o,f,n),b=y(o,f,n);p<0&&(f.left<0&&f.right<0?(f.left=-(o.width-i.minWidth)/(f.left/f.right),f.right=-(o.width-i.minWidth)/(f.right/f.left)):f.left<0?f.left=-(o.width-i.minWidth)/n:f.right<0&&(f.right=-(o.width-i.minWidth)/n)),b<0&&(f.top<0&&f.bottom<0?(f.top=-(o.height-i.minHeight)/(f.top/f.bottom),f.bottom=-(o.height-i.minHeight)/(f.bottom/f.top)):f.top<0?f.top=-(o.height-i.minHeight):f.bottom<0&&(f.bottom=-(o.height-i.minHeight)));var w=O(o,f,l,n);"move"===s&&(w.left>0&&0===w.right?(f.right+=w.left,f.left-=w.left):w.right>0&&0===w.left&&(f.left+=w.right,f.right-=w.right),w.top>0&&0===w.bottom?(f.bottom+=w.top,f.top-=w.top):w.bottom>0&&0===w.top&&(f.top+=w.bottom,f.bottom-=w.bottom),w=O(o,f,l,n));var A={width:1/0,height:1/0};if(v.forEach(function(t){w[t]&&f[t]?A[t]=1-w[t]/(f[t]*n):A[t]=1/0}),r){var M=Math.min.apply(Math,Object(d.a)(v.map(function(t){return A[t]})));M!==1/0&&v.forEach(function(t){f[t]*=M})}else m.forEach(function(t){var e=a?Math.min(A.top,A.bottom):A[t];e!==1/0&&(f[t]*=e)}),g.forEach(function(t){var e=a?Math.min(A.top,A.bottom):A[t];e!==1/0&&(f[t]*=e)});if(p=x(o,f,n),b=y(o,f,n),f.right+f.left&&(p>i.maxWidth?A.width=(i.maxWidth-o.width)/(n*(f.right+f.left)):p<i.minWidth&&(A.width=(i.minWidth-o.width)/(n*(f.right+f.left)))),f.bottom+f.top&&(b>i.maxHeight?A.height=(i.maxHeight-o.height)/(n*(f.bottom+f.top)):b<i.minHeight&&(A.height=(i.minHeight-o.height)/(n*(f.bottom+f.top)))),r){var E=Math.min(A.width,A.height);E!==1/0&&v.forEach(function(t){f[t]*=E})}else A.width!==1/0&&m.forEach(function(t){f[t]*=A.width}),A.height!==1/0&&g.forEach(function(t){f[t]*=A.height});return f}function O(t,e,o,i){return{left:"left"in o?-Math.min(0,t.left-e.left*i-o.left):0,top:"top"in o?-Math.min(0,t.top-e.top*i-o.top):0,bottom:"bottom"in o?-Math.min(0,o.bottom-(t.bottom+e.bottom*i)):0,right:"right"in o?-Math.min(0,o.right-(t.right+e.right*i)):0}}function M(t,e,o,i,n){var r;return o.minimum&&t/e<o.minimum?r=o.minimum:o.maximum&&t/e>o.maximum?r=o.maximum:n&&(r=i.width/i.height),r}function E(t){var e=t.coordinates,o=t.restrictions,i=t.allowedArea,n=t.coefficient,r=t.aspectRatio,a=t.resizeEvent,c=t.complete,s=void 0===c||c,h=u({},e,{right:e.left+e.width,bottom:e.top+e.height}),l=a.params||{},f=u({},a.directions),p=l.allowedDirections||{left:!0,right:!0,bottom:!0,top:!0};v.forEach(function(t){p[t]||(f[t]=0)});var d=x(h,f=A({directions:f,restrictions:o,coordinates:h,allowedArea:i,coefficient:n,stopOnBreak:l.stopOnBreak}),n),m=y(h,f,n),g=M(d,m,r,h,l.preserveAspectRatio);if(g&&s){var b=l.respectDirection;if(b||(b=h.width>=h.height||1==g?"width":"height"),"width"===b){var O=d/g-h.height;p.top&&p.bottom?(f.bottom=O/(2*n),f.top=O/(2*n)):p.bottom?f.bottom=O/n:p.top?f.top=O/n:p.right?f.right=0:p.left&&(f.left=0)}else if("height"===b){var E=h.width-m*g;p.left&&p.right?(f.left=-E/(2*n),f.right=-E/(2*n)):p.left?f.left=-E/n:p.right?f.right=-E/n:p.top?f.top=0:p.bottom&&(f.bottom=0)}f=A({directions:f,restrictions:o,coordinates:h,allowedArea:i,coefficient:n,preserveAspectRatio:!0,mode:l.compensate&&!l.stopOnBreak?"move":"crop"})}return g=M(d=x(h,f,n),m=y(h,f,n),r,h,l.preserveAspectRatio),Math.abs(g-d/m)>.001&&(console.error("Someting went wrong and ratio was broken: ".concat(d/m," instead of ").concat(g)),v.forEach(function(t){p[t]||(f[t]=0)})),function(t){var e=t.coordinates,o=t.allowedArea,i=void 0===o?{}:o,n=t.coefficient,r=u({},t.moveEvent.directions),a={left:e.left+n*r.left,top:e.top+n*r.top,width:e.width,height:e.height};"left"in i&&a.left<i.left&&(a.left=i.left);"right"in i&&a.left+a.width>i.right&&(a.left=Math.max(0,i.right-a.width));"top"in i&&a.top<i.top&&(a.top=i.top);"bottom"in i&&a.top+a.height>i.bottom&&(a.top=Math.max(0,i.bottom-a.height));return a}({coordinates:{width:e.width+n*(Math.round(f.right)+Math.round(f.left)),height:e.height+n*(Math.round(f.top)+Math.round(f.bottom)),left:e.left,top:e.top},allowedArea:i,coefficient:n,moveEvent:new w({},{left:-Math.round(f.left),top:-Math.round(f.top)})})}var S={name:"AlgorithmTester",components:{BoundingBox:p.a},data:function(){return{coordinates:{cropper:{width:100,height:100,left:300,top:0},stencil:{width:100,height:100,left:300,top:0},current:{width:100,height:100,left:300,top:0},area:{width:400,height:400,left:0,top:0}},stencilProps:'{\n\t"aspectRatio": 10/16\n}'}},computed:{cropperStyle:function(){return{width:"".concat(this.coordinates.cropper.width,"px"),height:"".concat(this.coordinates.cropper.height,"px"),top:"".concat(this.coordinates.cropper.top,"px"),left:"".concat(this.coordinates.cropper.left,"px")}},currentStyle:function(){return{width:"".concat(this.coordinates.current.width,"px"),height:"".concat(this.coordinates.current.height,"px"),top:"".concat(this.coordinates.current.top,"px"),left:"".concat(this.coordinates.current.left,"px")}},stencilStyle:function(){return{width:"".concat(this.coordinates.stencil.width,"px"),height:"".concat(this.coordinates.stencil.height,"px"),top:"".concat(this.coordinates.stencil.top,"px"),left:"".concat(this.coordinates.stencil.left,"px")}},areaStyle:function(){return{width:"".concat(this.coordinates.area.width,"px"),height:"".concat(this.coordinates.area.height,"px"),top:"".concat(this.coordinates.area.top,"px"),left:"".concat(this.coordinates.area.left,"px")}}},methods:{onResizeStencil:function(t){var e=t.directions;this.coordinates.stencil.left-=e.left,this.coordinates.stencil.top-=e.top,this.coordinates.stencil.width+=e.right+e.left,this.coordinates.stencil.height+=e.top+e.bottom},onResizeArea:function(t){var e=t.directions;this.coordinates.area.left-=e.left,this.coordinates.area.top-=e.top,this.coordinates.area.width+=e.right+e.left,this.coordinates.area.height+=e.top+e.bottom},onResizeCurrent:function(t){var e=t.directions;this.coordinates.current.left-=e.left,this.coordinates.current.top-=e.top,this.coordinates.current.width+=e.right+e.left,this.coordinates.current.height+=e.top+e.bottom},onResize:function(t){var e=E({coordinates:u({},this.coordinates.current),restrictions:{minWidth:100,minHeight:100,maxWidth:400,maxHeight:400},aspectRatio:{minimum:1,maximum:1},allowedArea:{left:this.coordinates.area.left,top:this.coordinates.area.top,bottom:this.coordinates.area.top+this.coordinates.area.height,right:this.coordinates.area.left+this.coordinates.area.width},coefficient:1,resizeEvent:new p.f({},{left:-(this.coordinates.stencil.left-this.coordinates.current.left),top:-(this.coordinates.stencil.top-this.coordinates.current.top),bottom:this.coordinates.stencil.top+this.coordinates.stencil.height-(this.coordinates.current.top+this.coordinates.current.height),right:this.coordinates.stencil.left+this.coordinates.stencil.width-(this.coordinates.current.left+this.coordinates.current.width)},{compensate:!0}),complete:t});this.coordinates.current=u({},e)}}},j=(o(302),o(1)),C=Object(j.a)(S,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bounding-box-example"},[i("div",{staticClass:"playground"},[i("div",{staticClass:"area-wrapper"},[i("div",{staticClass:"area"},[i("BoundingBox",{staticClass:"area-box",style:t.areaStyle,attrs:{"handler-component":"simple-handler","line-component":"simple-line","lines-classnames":{default:"line line--area"},"handlers-classnames":{default:"handler handler--area"}},on:{resize:t.onResizeArea}}),t._v(" "),i("BoundingBox",{staticClass:"stencil-box",style:t.stencilStyle,attrs:{"handler-component":"simple-handler","line-component":"simple-line","lines-classnames":{default:"line line--stencil"},"handlers-classnames":{default:"handler handler--stencil"}},on:{resize:t.onResizeStencil}}),t._v(" "),i("div",{staticClass:"current-box",style:t.currentStyle})],1),t._v(" "),i("div",{staticClass:"buttons"},[i("div",{staticClass:"button",on:{click:function(e){return t.onResize(!1)}}},[i("img",{attrs:{src:o(78)}})]),t._v(" "),i("div",{staticClass:"button button--complete",on:{click:function(e){return t.onResize(!0)}}},[i("img",{attrs:{src:o(78)}})])])])]),t._v(" "),i("div",{staticClass:"options"},[i("div",{staticClass:"option"},[t._v("\n\t\t\t\tStencil props:\n\t\t\t\t"),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.stencilProps,expression:"stencilProps"}],staticClass:"option__textarea",domProps:{value:t.stencilProps},on:{input:function(e){e.target.composing||(t.stencilProps=e.target.value)}}})])])])},[],!1,null,null,null);e.default=C.exports},65:function(t,e,o){var i=o(74),n=o(14)("toStringTag"),r="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,o,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(o=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),n))?o:r?i(e):"Object"==(a=i(e))&&"function"==typeof e.callee?"Arguments":a}},78:function(t,e,o){t.exports=o.p+"assets/img/resize.ea093182.svg"},88:function(t,e,o){t.exports=o(89)},89:function(t,e,o){o(90),t.exports=o(13).Array.isArray},90:function(t,e,o){var i=o(30);i(i.S,"Array",{isArray:o(93)})},94:function(t,e,o){t.exports=o(95)},95:function(t,e,o){o(63),o(103),t.exports=o(13).Array.from}}]);